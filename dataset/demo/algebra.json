/{
    "problems": [
        {
            "question": "Q1.  Professor Oak is feeding his 100 Pokémon. Each Pokémon has a bowl whose capacity\n is a positive real number of kilograms. These capacities are known to Professor Oak. The total\n capacity of all the bowls is 100 kilograms. Professor Oak distributes 100 kilograms of food in\n such a way that each Pokémon receives a non-negative integer number of kilograms of food\n (which may be larger than the capacity of their bowl). The dissatisfaction level of a Pokémon\n who received N kilograms of food and whose bowl has a capacity of C kilograms is equal to\n |N C|.\n Find the smallest real number D such that, regardless of the capacities of the bowls, Pro\nfessor Oak can distribute the food in a way that the sum of the dissatisfaction levels over all\n the 100 Pokémon is at most D.",
            "answer": "50",
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{Answer:} The answer is $D = 50$.\n\n\\noindent \\textbf{Solution 1.} First, consider the situation where 99 bowls have a capacity of 0.5 kilograms and the last bowl has a capacity of 50.5 kilograms. No matter how Professor Oak distributes the food, the dissatisfaction level of every Pokémon will be at least 0.5. This amounts to a total dissatisfaction level of at least 50, proving that $D \\ge 50$.\n\n\\medskip\nNow we prove that no matter what the capacities of the bowls are, Professor Oak can always distribute food in a way that the total dissatisfaction level is at most 50. We start by fixing some notation. We number the Pokémon from 1 to 100. Let $C_i > 0$ be the capacity of the bowl of the $i^{\\text{th}}$ Pokémon. By assumption, we have $C_1 + C_2 + \\cdots + C_{100} = 100$. We write $F_i := C_i - \\lfloor C_i \\rfloor$ for the fractional part of $C_i$. Without loss of generality, we may assume that $F_1 \\le F_2 \\le \\cdots \\le F_{100}$.\n\n\\medskip\nHere is a strategy: Professor Oak starts by giving $\\lfloor C_i \\rfloor$ kilograms of food to the $i^{\\text{th}}$ Pokémon. Let\n\\begin{align*}\nR &:= 100 - \\lfloor C_1 \\rfloor - \\lfloor C_2 \\rfloor - \\cdots - \\lfloor C_{100} \\rfloor = F_1 + F_2 + \\cdots + F_{100} \\ge 0\n\\end{align*}\nbe the amount of food left. He continues by giving an extra kilogram of food to the $R$ Pokémon numbered $100-R+1, 100-R+2, \\dots, 100$, i.e., the Pokémon with the $R$ largest values of $F_i$. By doing so, Professor Oak distributed 100 kilograms of food. The total dissatisfaction level with this strategy is\n\\begin{align*}\nd := F_1 + \\cdots + F_{100-R} + (1 - F_{100-R+1}) + \\cdots + (1 - F_{100}).\n\\end{align*}\n\n\\medskip\nWe can rewrite\n\\begin{align*}\nd &= 2(F_1 + \\cdots + F_{100-R}) + R - (F_1 + \\cdots + F_{100}) \\\\\n  &= 2(F_1 + \\cdots + F_{100-R}).\n\\end{align*}\n\n\\medskip\nNow, observe that the arithmetic mean of $F_1, F_2, \\dots, F_{100-R}$ is not greater than the arithmetic mean of $F_1, F_2, \\dots, F_{100}$, because we assumed $F_1 \\le F_2 \\le \\cdots \\le F_{100}$. Therefore\n\\begin{align*}\nd &\\le 2(100 - R) \\cdot \\frac{\\frac{F_1 + \\cdots + F_{100}}{100} \\cdot 100}{100} \\\\\n  &= 2 \\cdot \\frac{R(100 - R)}{100}.\n\\end{align*}\n\n\\medskip\nFinally, we use the AM-GM inequality to see that $R(100 - R) \\le \\frac{100^2}{2^2}$ which implies $d \\le 50$. We conclude that there is always a distribution for which the total dissatisfaction level is at most 50, proving that $D \\le 50$.\n\n\\end{document}\n"
        },
        {
            "question": "Q2 :\nA2. Let $\\mathbb{R}$ be the set of real numbers. Let $f: \\mathbb{R} \\to \\mathbb{R}$ be a function such that\n\\[\nf(x + y) f(x - y) \\ge f(x)^2 - f(y)^2\n\\]\nfor every $x, y \\in \\mathbb{R}$. Assume that the inequality is strict for some $x_0, y_0 \\in \\mathbb{R}$.\nProve that $f(x) \\ge 0$ for every $x \\in \\mathbb{R}$ or $f(x) \\le 0$ for every $x \\in \\mathbb{R}$.\n\n\\medskip\n\\noindent \\textbf{Common remarks.} We will say that $f$ has constant sign, if $f$ satisfies the conclusion of the problem.",
            "answer": null,
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{Solution 1.} We introduce the new variables $s := x + y$ and $t := x - y$. Equivalently, $x = \\frac{s+t}{2}$ and $y = \\frac{s-t}{2}$. The inequality becomes\n\\[\nf(s) f(t) \\ge f \\left( \\frac{s+t}{2} \\right)^2 - f \\left( \\frac{s-t}{2} \\right)^2\n\\]\nfor every $s, t \\in \\mathbb{R}$. We replace $t$ by $-t$ to obtain\n\\[\nf(s) f(-t) \\ge f \\left( \\frac{s-t}{2} \\right)^2 - f \\left( \\frac{s+t}{2} \\right)^2.\n\\]\nSumming the previous two inequalities gives\n\\[\nf(s) (f(t) + f(-t)) \\ge 0\n\\]\nfor every $s, t \\in \\mathbb{R}$. This inequality is strict for $s = x_0 + y_0$ and $t = x_0 - y_0$ by assumption. In particular, there exists some $t_0 = x_0 - y_0$ for which $f(t_0) + f(-t_0) \\ne 0$. Since $f(s) (f(t_0) + f(-t_0)) \\ge 0$ for every $s \\in \\mathbb{R}$, we conclude that $f(s)$ must have constant sign.\n\n\\medskip\n\\noindent \\textbf{Solution 2.} We do the same change of variables as in Solution 1 to obtain\n\\[\nf(s) f(t) \\ge f \\left( \\frac{s+t}{2} \\right)^2 - f \\left( \\frac{s-t}{2} \\right)^2. \\tag{1}\n\\]\nIn this solution, we replace $s$ by $-s$ (instead of $t$ by $-t$). This gives\n\\[\nf(-s) f(t) \\ge f \\left( \\frac{-s+t}{2} \\right)^2 - f \\left( \\frac{-s-t}{2} \\right)^2. \\tag{2}\n\\]\n\nWe now go back to the original inequality. Substituting $x = y$ gives $f(2x) f(0) \\ge 0$ for every $x \\in \\mathbb{R}$. If $f(0) \\ne 0$, then we conclude that $f$ indeed has constant sign. From now on, we will assume that\n\\[\nf(0) = 0.\n\\]\nSubstituting $x = -y$ gives $f(-x)^2 \\ge f(x)^2$. By permuting $x$ and $-x$, we conclude that\n\\[\nf(-x)^2 = f(x)^2\n\\]\nfor every $x \\in \\mathbb{R}$.\nUsing the relation $f(x)^2 = f(-x)^2$, we can rewrite (2) as\n\\[\nf(-s) f(t) \\ge f \\left( \\frac{s-t}{2} \\right)^2 - f \\left( \\frac{s+t}{2} \\right)^2.\n\\]\nSumming this inequality with (1), we obtain\n\\[\n(f(s) + f(-s)) f(t) \\ge 0\n\\]\nfor every $s, t \\in \\mathbb{R}$ and we can conclude as in Solution 1.\n\n\\end{document}\n"
        },
        {
            "question": "Q3 \nA3. Let $x_1, x_2, \\dots, x_{2023}$ be \\textit{distinct} real positive numbers such that\n\\[\na_n = \\sqrt{(x_1 + x_2 + \\cdots + x_n) \\left( \\frac{1}{x_1} + \\frac{1}{x_2} + \\cdots + \\frac{1}{x_n} \\right)}\n\\]\nis an integer for every $n = 1, 2, \\dots, 2023$. Prove that $a_{2023} \\ge 3034$.\n\n\\medskip\n\\noindent \\textit{(Netherlands)}\n\n\\medskip",
            "answer": null,
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{Solution 1.} We start with some basic observations. First note that the sequence $a_1, a_2, \\dots, a_{2023}$ is increasing and thus, since all elements are integers, $a_{n+1} - a_n \\ge 1$. We also observe that $a_1 = 1$ and\n\\[\na_2 = \\sqrt{(x_1 + x_2) \\left( \\frac{1}{x_1} + \\frac{1}{x_2} \\right)} > \\sqrt{2 \\sqrt{x_1 x_2} \\cdot 2 \\sqrt{\\frac{1}{x_1 x_2}}} = 2\n\\]\nby Cauchy-Schwarz inequality and using $x_1 \\neq x_2$. So, $a_2 \\ge 3$.\n\n\\medskip\nNow, we proceed to the main part of the argument. We observe that 3034 is about three halves of 2023. Motivated by this observation, we will prove the following.\n\\medskip\n\\textbf{Claim.} \\textit{If $a_{n+1} - a_n = 1$, then $a_{n+2} - a_{n+1} \\ge 2$.}\n\n\\medskip\nIn other words, the sequence has to increase by at least 2 at least half of the times. Assuming the claim is true, since $a_1 = 1$, we would be done since\n\\begin{align*}\na_{2023} &= (a_{2023} - a_{2022}) + (a_{2022} - a_{2021}) + \\cdots + (a_2 - a_1) + a_1 \\\\\n&\\ge (\\underbrace{2 + 1 + 2 + 1 + \\cdots + 2 + 1}_{2022 \\text{ terms}}) + 1 \\\\\n&= (2 + 1) \\cdot 1011 + 1 \\\\\n&= 3034.\n\\end{align*}\n\n\\medskip\nWe now prove the claim. We start by observing that\n\\begin{align*}\na_{n+1}^2 &= (x_1 + \\cdots + x_{n+1}) \\left( \\frac{1}{x_1} + \\cdots + \\frac{1}{x_{n+1}} \\right) \\\\\n&= (x_1 + \\cdots + x_n + x_{n+1}) \\left( \\frac{1}{x_1} + \\cdots + \\frac{1}{x_n} + \\frac{1}{x_{n+1}} \\right) \\\\\n&= (x_1 + \\cdots + x_n) \\left( \\frac{1}{x_1} + \\cdots + \\frac{1}{x_n} \\right) + 1 + 1 + \\frac{x_{n+1}}{x_1 + \\cdots + x_n} + x_{n+1} \\left( \\frac{1}{x_1} + \\cdots + \\frac{1}{x_n} \\right) \\\\\n&= a_n^2 + 2 + \\frac{x_{n+1}}{x_1 + \\cdots + x_n} + \\frac{x_1 + \\cdots + x_n}{x_1 \\cdots x_n} \\cdot x_{n+1} \\left( \\frac{x_2 \\cdots x_n + x_1 x_3 \\cdots x_n + \\cdots + x_1 \\cdots x_{n-1}}{x_1 \\cdots x_n} \\right) \\\\\n&\\ge a_n^2 + 2 + 2 \\sqrt{\\frac{x_{n+1}}{x_1 + \\cdots + x_n} \\cdot (x_1 + \\cdots + x_n) \\left( \\frac{1}{x_1} + \\cdots + \\frac{1}{x_n} \\right) \\frac{1}{x_{n+1}}} \\\\\n&= a_n^2 + 2 + 2 \\sqrt{a_n^2} \\\\\n&= a_n^2 + 2 + 2a_n \\\\\n&= (a_n + 1)^2,\n\\end{align*}\nwhere we used AM-GM to obtain the inequality. In particular, if $a_{n+1} = a_n + 1$, then\n\\[\n\\frac{x_{n+1}}{x_1 + \\cdots + x_n} = \\frac{1}{x_{n+1} \\left( \\frac{1}{x_1} + \\cdots + \\frac{1}{x_n} \\right)}. \\tag{1}\n\\]\n\n\\medskip\nNow, assume for the sake of contradiction that both $a_{n+1} = a_n + 1$ and $a_{n+2} = a_{n+1} + 1$ hold.\nIn this case, (1) gives\n\\[\n\\frac{x_{n+1}}{x_1 + \\cdots + x_n} = \\frac{1}{x_{n+1} \\left( \\frac{1}{x_1} + \\cdots + \\frac{1}{x_n} \\right)} = \\frac{x_{n+2}}{x_1 + \\cdots + x_{n+1}} = \\frac{1}{x_{n+2} \\left( \\frac{1}{x_1} + \\cdots + \\frac{1}{x_{n+1}} \\right)}.\n\\]\nWe can rewrite this relation as\n\\[\n\\frac{\\frac{1}{x_{n+1}}}{\\frac{1}{x_{n+2}}} = \\frac{x_{n+2}}{x_{n+1}} = \\frac{x_1 + \\cdots + x_n}{x_1 + \\cdots + x_{n+1}} = \\frac{x_{n+1} \\left( \\frac{1}{x_1} + \\cdots + \\frac{1}{x_n} \\right)}{x_{n+2} \\left( \\frac{1}{x_1} + \\cdots + \\frac{1}{x_{n+1}} \\right)}.\n\\]\nFrom (1) again, we conclude that $x_{n+1} = x_{n+2}$ which is a contradiction.\n\n\\end{document}\n"
        },
        {
            "question": "Q4 \nA4. Let $\\mathbb{R}_{>0}$ be the set of positive real numbers. Determine all functions $f: \\mathbb{R}_{>0} \\to \\mathbb{R}_{>0}$ such that\n\\[\nx(f(x) + f(y)) \\ge (f(f(x)) + y) f(y)\n\\]\nfor every $x, y \\in \\mathbb{R}_{>0}$.\n\n\\medskip\n\\noindent \\textit{(Belgium)}\n\n\\medskip\n\\noindent \\textbf{Answer:} All functions $f(x) = \\frac{c}{x}$ for some $c > 0$.",
            "answer": "All functions $f(x) = \\frac{c}{x}$ for some $c > 0$.",
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{Solution 1.} Let $f: \\mathbb{R}_{>0} \\to \\mathbb{R}_{>0}$ be a function that satisfies the inequality of the problem statement. We will write $f^k(x) = f(f(\\cdots f(x)\\cdots))$ for the composition of $f$ with itself $k$ times, with the convention that $f^0(x) = x$. Substituting $y = x$ gives\n\\[\nx \\ge f^2(x).\n\\]\nSubstituting $x = f(y)$ instead leads to $f(y) (f(f(y)) + f(y)) \\ge (f(f(f(y))) + y) f(y)$, or equivalently\n\\[\nf(y) + f^2(y) \\ge f^3(y) + y,\n\\]\n\\[\nf(y) - f^3(y) \\ge y - f^2(y).\n\\]\nWe can generalise this inequality. If we replace $y$ by $f^{n-1}(y)$ in the above inequality, we get\n\\[\nf^n(y) - f^{n+2}(y) \\ge f^{n-1}(y) - f^{n+1}(y),\n\\]\nfor every $y \\in \\mathbb{R}_{>0}$ and for every integer $n \\ge 1$. In particular, $f^n(y) - f^{n+2}(y) \\ge y - f^2(y) \\ge 0$ for every $n \\ge 1$. Hereafter consider even integers $n = 2m$. Observe that\n\\[\ny - f^{2m}(y) = \\sum_{i=0}^{m-1} (f^{2i}(y) - f^{2i+2}(y)) \\ge m(y - f^2(y)).\n\\]\n\n\\medskip\nSince $f$ takes positive values, it holds that $y - f^{2m}(y) < y$ for every $m \\ge 1$. So, we have proved that $y > m(y - f^2(y))$ for every $y \\in \\mathbb{R}_{>0}$ and every $m \\ge 1$. Since $y>0$, this holds if only if\n\\[\ny - f^2(y) \\le 0.\n\\]\nCombining this with $y \\ge f^2(y)$, we conclude that\n\\[\nf^2(y) = y\n\\]\nfor every $y \\in \\mathbb{R}_{>0}$. The original inequality becomes\n\\[\nx f(x) \\ge y f(y)\n\\]\nfor every $x, y \\in \\mathbb{R}_{>0}$. Hence, $x f(x)$ is constant. We conclude that $f(x) = \\frac{c}{x}$ for some $c > 0$.\nWe now check that all the functions of the form $f(x) = \\frac{c}{x}$ are indeed solutions of the original problem. First, note that all these functions satisfy $f(f(x)) = c/(c/x) = x$. So it's sufficient to check that $x f(x) \\ge y f(y)$, which is true since $c \\ge c$.\n\n\\end{document}\n"
        },
        {
            "question": "Q5 \nA5. Let $a_1, a_2, \\dots, a_{2023}$ be positive integers such that\n\\begin{itemize}\n    \\item $a_1, a_2, \\dots, a_{2023}$ is a permutation of $1, 2, \\dots, 2023$, and\n    \\item $|a_1 - a_2|, |a_2 - a_3|, \\dots, |a_{2022} - a_{2023}|$ is a permutation of $1, 2, \\dots, 2022$.\n\\end{itemize}\nProve that $\\max(a_1, a_{2023}) \\ge 507$.\n\n\\medskip\n\\noindent \\textit{(Australia)}\n\n\\medskip",
            "answer": null,
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{Solution.} For the sake of clarity, we consider and prove the following generalisation of the original problem (which is the case $N = 1012$):\n\n\\medskip\n\\noindent \\textbf{Let} $N$ be a positive integer and $a_1, a_2, \\dots, a_{2N-1}$ be positive integers such that\n\\begin{itemize}\n    \\item $a_1, a_2, \\dots, a_{2N-1}$ is a permutation of $1, 2, \\dots, 2N-1$, and\n    \\item $|a_1 - a_2|, |a_2 - a_3|, \\dots, |a_{2N-2} - a_{2N-1}|$ is a permutation of $1, 2, \\dots, 2N-2$.\n\\end{itemize}\nThen $a_1 + a_{2N-1} \\ge N + 1$ and hence $\\max(a_1, a_{2N-1}) \\ge \\left\\lceil \\frac{N+1}{2} \\right\\rceil$.\n\n\\medskip\nNow we proceed to the proof of the generalised statement. We introduce the notion of \\textit{score} of a number $a \\in \\{1, 2, \\dots, 2N-1\\}$. The score of $a$ is defined to be\n\\[\ns(a) := |a - N|.\n\\]\n\n\\medskip\nNote that, by the triangle inequality,\n\\[\n|a - b| = |a - N + N - b| \\le |a - N| + |N - b| = s(a) + s(b).\n\\]\n\n\\medskip\nConsidering the sum $|a_1 - a_2| + |a_2 - a_3| + \\cdots + |a_{2N-2} - a_{2N-1}|$, we find that\n\\begin{align*}\n(N-1)(2N-1) &= |a_1 - a_2| + |a_2 - a_3| + \\cdots + |a_{2N-2} - a_{2N-1}| \\\\\n&\\le (s(a_1) + s(a_2)) + (s(a_2) + s(a_3)) + \\cdots + (s(a_{2N-2}) + s(a_{2N-1})) \\\\\n&= 2(s(a_1) + s(a_2) + \\cdots + s(a_{2N-1})) - (s(a_1) + s(a_{2N-1})) \\\\\n&= 2 \\sum_{i=1}^{2N-1} s(a_i) - (s(a_1) + s(a_{2N-1})).\n\\end{align*}\n\n\\medskip\nFor the last equality we used that the numbers $s(a_1), s(a_2), \\dots, s(a_{2N-1})$ are a permutation of $0, 1, 1, 2, 2, \\dots, N-1, N-1$.\nHence, $\\sum_{i=1}^{2N-1} s(a_i) = 2 \\sum_{j=0}^{N-1} j = N(N-1)$. We conclude that\n\\[\n(N-1)(2N-1) \\le 2N(N-1) - (s(a_1) + s(a_{2N-1})) = 2N(N-1) - (|a_1 - N| + |a_{2N-1} - N|).\n\\]\n\\[\n(|a_1 - N| + |a_{2N-1} - N|) \\le 2N(N-1) - (N-1)(2N-1) = (N-1)(2N - (2N-1)) = N-1,\n\\]\n\\[\n(N - a_1) + (N - a_{2N-1}) \\le |N - a_1| + |N - a_{2N-1}| = |a_1 - N| + |a_{2N-1} - N| \\le N - 1,\n\\]\n\\[\n2N - (a_1 + a_{2N-1}) \\le N - 1,\n\\]\nwhich implies $a_1 + a_{2N-1} \\ge N + 1$.\n\n\\medskip\n\\noindent \\textbf{Comment 1.} In the case $N = 1012$, such a sequence with $\\max(a_1, a_{2023}) = 507$ indeed exists:\n\\[\n507, 1517, 508, 1516, \\dots, 1011, 1013, 1012, 2023, 1, 2022, 2, \\dots, 1518, 506.\n\\]\n\n\\medskip\nFor a general even number $N$, a sequence with $\\max(a_1, a_{2N-1}) = \\left\\lceil \\frac{N+1}{2} \\right\\rceil = \\frac{N+2}{2}$ can be obtained similarly. If $N \\ge 3$ is odd, the inequality is not sharp, because $\\max(a_1, a_{2N-1}) = \\frac{N+1}{2}$ and $a_1 + a_{2N-1} \\ge N+1$ together imply $a_1 = a_{2N-1} = \\frac{N+1}{2}$, a contradiction.\n\n\\end{document}\n"
        },
        {
            "question": "Q6 \nA6. Let $k \\ge 2$ be an integer. Determine all sequences of positive integers $a_1, a_2, \\dots$ for which there exists a monic polynomial $P$ of degree $k$ with non-negative integer coefficients such that\n\\[\nP(a_n) = a_{n+1} + a_{n+2} + \\cdots + a_{n+k}\n\\]\nfor every integer $n \\ge 1$.\n\n\\medskip\n\\noindent \\textit{(Malaysia)}\n\n\\medskip\n\\noindent \\textbf{Answer:} The sequence $(a_n)$ must be an arithmetic progression consisting of positive integers with common difference $d \\ge 0$, and $P(x) = (x + d) \\cdots (x + kd)$.\n\n\\medskip\n\\noindent \\textbf{Common remarks.} The following arguments and observations are implicit in the solutions given below.\n\n\\medskip\nSuppose the sequence $(a_n)$ is an arithmetic progression with common difference $d \\ge 0$. Then it satisfies the condition with\n\\[\nP(x) = (x + d) \\cdots (x + kd).\n\\]\n\n\\medskip\nThis settles one direction. Now suppose $(a_n)$ is a sequence satisfying the condition. We will show that it is a non-decreasing arithmetic progression.\nSince $P(x)$ has non-negative integer coefficients, it is strictly increasing on the positive real line. In particular, it holds that, for any positive integers $x, y$,\n\\[\nP(x) < P(y) \\iff x < y.\n\\]\n\n\\medskip\nFurthermore, if the sequence $(a_n)$ is eventually constant, then $P(x) = x^k$ and the sequence $(a_n)$ is actually constant. Indeed, if $P(x)$ were not the polynomial $x^k$, then $P(a_n) = a_{n+1} + \\cdots + a_{n+k}$ cannot be satisfied for $n$ such that $a_n = \\cdots = a_{n+k}$. By a descending induction, we conclude that $(a_n)$ is constant. Thus we can restrict to the case $(a_n)$ is not eventually constant.",
            "answer": "The sequence $(a_n)$ must be an arithmetic progression consisting of positive integers with common difference $d \\ge 0$, and $P(x) = (x + d) \\cdots (x + kd)$.",
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{Solution 1.} We assume that $(a_n)$ is not eventually constant.\n\n\\medskip\n\\noindent \\textbf{Step 1.} The first goal is to show that the sequence must be increasing, i.e. $a_n < a_{n+1}$ for all $n \\ge 1$.\n\n\\medskip\nFirst, by comparing the two equalities\n\\begin{align*}\nP(a_n) &= a_{n+1} + a_{n+2} + \\cdots + a_{n+k}, \\\\\nP(a_{n+1}) &= a_{n+2} + a_{n+3} + \\cdots + a_{n+k+1},\n\\end{align*}\nwe observe that\n\\begin{align*}\na_n < a_{n+1} &\\implies P(a_n) < P(a_{n+1}) \\implies a_{n+1} + \\cdots + a_{n+k} < a_{n+2} + \\cdots + a_{n+k+1} \\implies a_{n+1} < a_{n+k+1}; \\tag{1}\\\\\na_n > a_{n+1} &\\implies P(a_n) > P(a_{n+1}) \\implies a_{n+1} + \\cdots + a_{n+k} > a_{n+2} + \\cdots + a_{n+k+1} \\implies a_{n+1} > a_{n+k+1}; \\tag{2}\\\\\na_n = a_{n+1} &\\implies P(a_n) = P(a_{n+1}) \\implies a_{n+1} + \\cdots + a_{n+k} = a_{n+2} + \\cdots + a_{n+k+1} \\implies a_{n+1} = a_{n+k+1}. \\tag{3}\n\\end{align*}\n\n\\medskip\n\\noindent \\textbf{Claim 1.} $a_n \\le a_{n+1}$ for all $n \\ge 1$.\n\n\\medskip\n\\noindent \\textit{Proof.} Suppose, to the contrary, that $a_{n(0)} > a_{n(0)+1}$ for some $n(0) \\ge 2$. We will give an infinite descending sequence of positive integers $a_{n(0)} > a_{n(1)} > a_{n(2)} > \\cdots$ (absurd).\n\n\\medskip\nThen $a_{n(0)} > a_{n(0)+1}$ implies by (2) that $a_{n(0)+1} > a_{n(0)+k+1}$. We construct such a sequence inductively. If we have chosen $n(i)$, then we let $n(i+1) = n(i) + k$. Note that such an index always exists since if $n(i+1)$ were not the smallest index larger than $n(i)$ such that $a_{n(i+1)} > a_{n(i+1)+1}$, then we always need to check that $n(i+1) \\le n(i)+k$.  Because $a_{n(i)} > a_{n(i)+1}$, by (2), $a_{n(i)+1} > a_{n(i)+k+1}$. This is immediate if $n(i+1) = n(i)+k+1 = n(i) + k + 1$ by construction. If $n(i+1) \\ge n(i) + 2$, then $a_{n(i)+1} \\ge a_{n(i)+2} \\ge \\cdots \\ge a_{n(i)+k}$. By minimality of $n(i+1)$, and so $a_{n(i)+1} > a_{n(i+1)}$.\nHence $a_{n(i)} > a_{n(i+1)}$. $\\Box$\n\nvspace{1cm}\n\\hrulefill \\textit{Chiba, Japan, 2nd-13th July 2023} \\hrulefill\nvspace{1cm}\n\n\\noindent 24\n\n\\noindent We are now ready to prove that the sequence $a_n$ is increasing. Suppose $a_n = a_{n+1}$ for some $n \\ge 1$. Then we also have $a_n = a_{n+1} = \\cdots = a_{n+k+1}$ by (3), and since the sequence is non-decreasing we have $a_{n} = a_{n+1} = a_{n+2} = \\cdots $. But that contradicts our assumption. Hence $a_n < a_{n+1}$ for all $n \\ge 1$.\n\n\\medskip\n\\noindent \\textbf{Step 2.} The next and final goal is to prove that the sequence $a_n$ is an arithmetic progression.\nObserve that we can make differences of terms appear as follows:\n\\begin{align*}\nP(x) &= a_{n+1} + a_{n+2} + \\cdots + a_{n+k} \\\\\n&= (a_{n+1} - a_n) + (a_{n+2} - a_n) + \\cdots + (a_{n+k} - a_n) + k a_n \\\\\n&= (a_{n+1} - a_n) + (a_{n+2} - a_{n+1} + a_{n+1} - a_n) + \\cdots + (a_{n+k} - a_{n+k-1} + \\cdots + a_{n+1} - a_n) + k a_n.\n\\end{align*}\nWe will prove that, for $n$ large enough, the sum\n\\[\n(a_{n+1} - a_n) + (a_{n+2} - a_n) + \\cdots + (a_{n+k} - a_n)\n\\]\nis equal to the coefficient $b$ of the term $x^{k-1}$ in $P$. The argument is based on the following claim.\n\n\\medskip\n\\noindent \\textbf{Claim 2.} There exists a bound $A$ with the following properties:\n\\begin{enumerate}\n    \\item If $(c_1, \\dots, c_k)$ is a $k$-tuple of positive integers with $c_1 + \\cdots + c_k > b$, then for every $x > A$ we have $P(x) < (x + c_1) (x + c_2) \\cdots (x + c_k)$.\n    \\item If $(c_1, \\dots, c_k)$ is a $k$-tuple of positive integers with $c_1 + \\cdots + c_k < b$, then for every $x > A$ we have $P(x) > (x + c_1) (x + c_2) \\cdots (x + c_k)$.\n\\end{enumerate}\n\n\\medskip\n\\noindent \\textit{Proof.} It suffices to show parts 1 and 2 separately, because then we can take the maximum of two bounds.\n\n\\medskip\nWe first show part 1. For each single $(c_1, \\dots, c_k)$ such a bound $A$ exists since\n\\[\nP(x) - (x + c_1) (x + c_2) \\cdots (x + c_k) = (b - (c_1 + \\cdots + c_k)) x^{k-1} + (\\text{terms of degree} \\le k-2)\n\\]\nhas negative leading coefficient and hence takes negative values for $x$ large enough.\n\nSuppose $A$ is a common bound for all tuples $c = (c_1, \\dots, c_k)$ satisfying $c_1 + \\cdots + c_k = b+1$ (note that there are only finitely many such tuples). Then, for any tuple $c' = (c'_1, \\dots, c'_k)$ with $c'_1 + \\cdots + c'_k > b$, there exists a tuple $c = (c_1, \\dots, c_k)$ with $c_1 + \\cdots + c_k = b+1$ and $c'_i \\ge c_i$, and then the inequality for $c'$ follows from the inequality for $c$.\n\nWe can show part 2 either in a similar way, or by using that there are only finitely many such tuples. $\\Box$\n\n\\medskip\nTake $A$ satisfying the assertion of Claim 2, and take $N$ such that $n \\ge N$ implies $a_n > A$. Then for every $n \\ge N$, we have\n\\[\nP(a_n) = (a_{n+1} - a_n) + (a_{n+2} - a_n) + \\cdots + (a_{n+k} - a_n) = b.\n\\]\nBy taking the difference of this equality and the equality for $n+1$, we obtain\n\\[\na_{n+k+1} - a_{n+1} = k(a_{n+1} - a_n)\n\\]\nfor every $n \\ge N$.\n\n\\medskip\nWe conclude using an extremal principle. Let $d = \\min\\{a_{n+1} - a_n \\mid n \\ge N\\}$, and suppose it is attained at some index $n \\ge N$. Since\n\\[\nkd = k(a_{n+1} - a_n) = a_{n+k+1} - a_{n+1} = \\sum_{i=n+2}^{n+k+1} (a_i - a_{i-1}) \\ge kd,\n\\]\nand each summand is at least $d$, we conclude that $d$ is also attained at $n+1, \\dots, n+k$. And inductively at all $n' \\ge n$. We see that the equation $P(x) = (x + d)(x + 2d) \\cdots (x + kd)$ is true for infinitely many values of $x$ (all $a_{n'}$ for $n' \\ge n$), hence this is an equality of polynomials. Finally we use (backward) induction to show that $a_{n+1} - a_n = d$ for every $n \\ge 1$.\n\n\\end{document}\n"
        },
        {
            "question": "Q7 \nA7. Let $N$ be a positive integer. Prove that there exist three permutations $a_1, a_2, \\dots, a_N$; $b_1, b_2, \\dots, b_n$; and $c_1, c_2, \\dots, c_N$ of $1, 2, \\dots, N$ such that\n\\[\n|\\sqrt{a_k} + \\sqrt{b_k} + \\sqrt{c_k} - 2\\sqrt{N}| < 2023\n\\]\nfor every $k = 1, 2, \\dots, N$.\n\n\\medskip\n\\noindent \\textit{(China)}\n\n\\medskip",
            "answer": null,
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\newtheorem{claim}{Claim}\n\\usepackage{lipsum}\n\n\\begin{document}\n\n\\noindent \\textbf{Solution 1.} The idea is to approximate the numbers $\\sqrt{1}, \\sqrt{2}, \\dots, \\sqrt{N}$ by the nearest integer with errors $< 0.5$. This gives the following sequence\n\\[\n1, 1, 2, 2, 2, 3, 3, 3, 3, 4, \\dots\n\\]\nMore precisely, for each $k \\ge 1$, we round $\\sqrt{k^2 - k + 1}, \\dots, \\sqrt{k^2 + k}$ to $k$, so that there are $2k$ copies of $k$.\n\n\\medskip\n\\noindent \\textbf{Step 1.} We first consider the easier case when $N$ has the form\n\\[\nN = m(m+1).\n\\]\nIn this case, the numbers $\\sqrt{1}, \\sqrt{2}, \\dots, \\sqrt{N}$ are approximated by the elements of the multiset $\\{ \\underbrace{1, 1}_{2 \\cdot 1}, \\underbrace{2, 2, 2, 2}_{2 \\cdot 2}, \\dots, \\underbrace{m, \\dots, m}_{2 \\cdot m} \\}$. Let $T_m$ denote ``half'' of the multiset, i.e.\n\\[\nT_m := \\{ \\underbrace{1, 1}_{2}, \\underbrace{2, 2}_{2}, \\underbrace{3, 3}_{2}, \\dots, \\underbrace{m, m}_{2} \\}.\n\\]\n\n\\medskip\nWe will prove by induction that there exists three permutations $(u_k)$, $(v_k)$, and $(w_k)$ of the elements in the multiset $T_m$ such that $u_k + v_k + w_k = 2m + 1$ is constant for $k = 1, 2, \\dots, \\frac{m(m+1)}{2}$.\nWhen $m = 1$, take $T_1 = \\{1, 1\\}$. Then take permutations $(u_k) = (1, 1)$, $(v_k) = (1, 1)$ and $(w_k) = (1, 1)$. Suppose that we have constructed three permutations $(u_k), (v_k)$, and $(w_k)$ of $T_{m-1}$ satisfying $u_k + v_k + w_k = 2(m-1) + 1 = 2m - 1$ for every $k = 1, 2, \\dots, \\frac{(m-1)m}{2}$. For $T_m$, we note that\n\\[\nT_m = T_{m-1} \\sqcup \\{m\\} \\sqcup \\{m\\}.\n\\]\nand also\n\\begin{equation}\nT_m = (T_{m-1} + 1) \\sqcup \\{1, 2, \\dots, m\\}. \\tag{1}\n\\end{equation}\nHere $T_{m-1} + 1$ means to add 1 to all elements in $T_{m-1}$. We construct the permutations $(u'_k), (v'_k)$, and $(w'_k)$ of $T_m$ as follows:\n\\begin{itemize}\n    \\item For $k = 1, 2, \\dots, \\frac{m(m-1)}{2}$, we set $u'_k = u_k + 1$, $v'_k = v_k + 1$, $w'_k = w_k + 1$.\n    \\item For $k = \\frac{m(m-1)}{2} + r$ with $r = 1, 2, \\dots, m$, we set $u'_k = m$, $v'_k = r$, $w'_k = m + 1 - r$.\n\\end{itemize}\nIt is clear from (1) that $(u'_k), (v'_k)$, and $(w'_k)$ give three permutations of $T_m$, and that they satisfy $u'_k + v'_k + w'_k = 2m + 1$ for every $k = 1, 2, \\dots, \\frac{m(m+1)}{2}$.\nThe inductive construction can be visualised by the $3 \\times \\frac{m(m+1)}{2}$ matrix\n\\[\n\\begin{bmatrix}\n    u'_1 & \\cdots & u'_{\\frac{m(m-1)}{2}} & u'_{\\frac{m(m-1)}{2} + 1} & \\cdots & u'_{\\frac{m(m+1)}{2}} \\\\\n    v'_1 & \\cdots & v'_{\\frac{m(m-1)}{2}} & v'_{\\frac{m(m-1)}{2} + 1} & \\cdots & v'_{\\frac{m(m+1)}{2}} \\\\\n    w'_1 & \\cdots & w'_{\\frac{m(m-1)}{2}} & w'_{\\frac{m(m-1)}{2} + 1} & \\cdots & w'_{\\frac{m(m+1)}{2}}\n\\end{bmatrix} =\n\\begin{bmatrix}\n    u_1+1 & \\cdots & u_{\\frac{(m-1)m}{2}}+1 & m & \\cdots & m \\\\\n    v_1+1 & \\cdots & v_{\\frac{(m-1)m}{2}}+1 & 1 & \\cdots & m \\\\\n    w_1+1 & \\cdots & w_{\\frac{(m-1)m}{2}}+1 & m & \\cdots & 1\n\\end{bmatrix}\n\\]\nin which the three rows represent the permutations $(u'_k), (v'_k), (w'_k)$, and the sum of the three entries of each column is $2m + 1$.\n\nvspace{1cm}\n\\hrulefill \\textit{Chiba, Japan, 2nd-13th July 2023} \\hrulefill\nvspace{1cm}\n\n\\noindent 28\n\n\\noindent Thus, when $N = m^2 + m$, we can construct permutations $(u_k)$, $(v_k)$, and $(c_k)$ of $1, 2, \\dots, N$ such that\n\\begin{equation}\n2m + 1 - 1.5 < \\sqrt{u_k} + \\sqrt{v_k} + \\sqrt{c_k} < 2m + 1 + 1.5. \\tag{2}\n\\end{equation}\nThis gives\n\\[\n\\sqrt{u_k} + \\sqrt{v_k} + \\sqrt{c_k} - 2\\sqrt{N} < 2m + 1 + 1.5 - 2 \\sqrt{m^2 + m} = 2m + 1.5 - 2m \\sqrt{1 + \\frac{1}{m}}\n\\]\nUsing $\\sqrt{1 + x} \\ge 1 + \\frac{x}{2} - \\frac{x^2}{8}$ for $x \\ge 0$ for $x = \\frac{1}{m}$ we have\n\\begin{align*}\n\\sqrt{u_k} + \\sqrt{v_k} + \\sqrt{c_k} - 2\\sqrt{N} &< 2m + 1.5 - 2m \\left( 1 + \\frac{1}{2m} - \\frac{1}{8m^2} \\right) \\\\\n&= 2m + 1.5 - 2m - 1 + \\frac{1}{4m} = 0.5 + \\frac{1}{4m} < 2.5 < 2023.\n\\end{align*}\nwhere we used that $-1 < 2m - 2m \\sqrt{1 + \\frac{1}{m}} < 0$ for positive $m$.\n\n\\medskip\n\\noindent \\textbf{Step 2.} We now proceed to the general case. Let $m$ be such that\n\\[\nm(m+1) \\le N < (m+1)(m+2).\n\\]\nWrite $N = m(m+1) + t$ for some $t \\in \\{0, 1, \\dots, 2m + 1\\}$ and let\n\\[\nL := \\left\\lfloor \\frac{4N}{9} \\right\\rfloor.\n\\]\nWe will make use of the following inequalities below:\n\\[\nN > m^2, \\quad N < (m+2)^2, \\quad t \\le 2m+1, \\quad L + 1 > 4N/9, \\quad L \\le 4N/9.\n\\]\nAs above, we construct three permutations $(u_k), (v_k), (w_k)$ of $\\{1, 2, \\dots, m(m+1)\\}$ satisfying (2). Now we construct the three required permutations $(A_k), (B_k)$, and $(C_k)$ of $\\{1, 2, \\dots, N\\}$ as follows:\n\n\\medskip\nFor $k = 1, 2, \\dots, m(m+1)$, if $a_k \\le L$, take $A_k = a_k$, and if $a_k > L$, take $A_k = a_k + t$. For $k = m(m+1) + r$ with $r = 1, 2, \\dots, t$, set $A_k = L + r$. Define the permutations $(B_k)$ and $(C_k)$ similarly. Now for $k = 1, 2, \\dots, m(m+1)$, we show $0 \\le \\sqrt{A_k} - \\sqrt{u_k} \\le 2$. The lower bound is obvious. If $u_k \\le L$, then $N \\le 5$ and hence $\\sqrt{A_k} - \\sqrt{u_k} = \\sqrt{u_k} - \\sqrt{u_k} = 0 < 2$. If $u_k \\ge 2$, then\n\\[\n\\sqrt{A_k} - \\sqrt{u_k} = \\sqrt{u_k + t} - \\sqrt{u_k} = \\frac{t}{\\sqrt{u_k + t} + \\sqrt{u_k}} \\le \\frac{t}{2\\sqrt{L}} \\le \\frac{2m+1}{2\\sqrt{4N/9}} \\le \\frac{3(2m+1)}{4\\sqrt{N}} \\le \\frac{3}{2\\sqrt{m}} \\le 2.\n\\]\nWe have similar inequalities for $(B_k)$ and $(C_k)$. Thus\n\\begin{align*}\n2\\sqrt{N} - 4.5 &< 2m + 1 - 1.5 \\le \\sqrt{A_k} + \\sqrt{B_k} + \\sqrt{C_k} \\le 2m + 1 + 1.5 + 6 \\le 2\\sqrt{N} + 8.5.\n\\end{align*}\nFor $k = m^2 + m + 1, \\dots, m^2 + m + t$, we have\n\\[\n2\\sqrt{N} < 3\\sqrt{L} + t < \\sqrt{A_k} + \\sqrt{B_k} + \\sqrt{C_k} \\le 3\\sqrt{L+t} \\le \\sqrt{4N+9} < 2\\sqrt{N} + 8.5.\n\\]\n\n\\medskip\nTo sum up, we have defined three permutations $(A_k), (B_k)$, and $(C_k)$ of $1, 2, \\dots, N$, such that\n\\[\n|\\sqrt{A_k} + \\sqrt{B_k} + \\sqrt{C_k} - 2\\sqrt{N}| < 8.5 < 2023.\n\\]\nholds for every $k = 1, 2, \\dots, N.\n\n\\end{document}\n"
        },
        {
            "question": "Q8. Let $\\mathbb{Z}$ be the set of integers. Determine all functions $f: \\mathbb{Z} \\to \\mathbb{Z}$ such that, for all integers $a$ and $b$,\n\\[\nf(2a) + 2f(b) = f(f(a + b)). \\tag{1}\n\\]\n\\textit{(South Africa)}",
            "answer": "The solutions are $f(n) = 0$ and $f(n) = 2n + K$ for any constant $K \\in \\mathbb{Z}$.",
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{A1.} Let $\\mathbb{Z}$ be the set of integers. Determine all functions $f: \\mathbb{Z} \\to \\mathbb{Z}$ such that, for all integers $a$ and $b$,\n\\[\nf(2a) + 2f(b) = f(f(a + b)). \\tag{1}\n\\]\n\\textit{(South Africa)}\n\n\\medskip\n\\noindent \\textbf{Answer:} The solutions are $f(n) = 0$ and $f(n) = 2n + K$ for any constant $K \\in \\mathbb{Z}$.\n\n\\medskip\n\\noindent \\textbf{Common remarks.} Most solutions to this problem first prove that $f$ must be linear, before determining all linear functions satisfying (1).\n\n\\medskip\n\\noindent \\textbf{Solution 1.} Substituting $a = 0, b = n + 1$ gives $f(0) + 2f(n+1) = f(f(n+1))$. Substituting $a = 1, b = n$ gives $f(2) + 2f(n) = f(f(n + 1))$.\nIn particular, $f(0) + 2f(n+1) = f(2) + 2f(n)$, and so $f(n+1) - f(n) = \\frac{1}{2} (f(2) - f(0))$.\nThus $f(n+1) - f(n)$ must be constant. Since $f$ is defined only on $\\mathbb{Z}$, this tells us that $f$ must be a linear function; write $f(n) = Mn + K$ for arbitrary constants $M$ and $K$, and we need only determine which choices of $M$ and $K$ work.\nNow, (1) becomes\n\\[\n2Ma + K + 2(Mb + K) = M(M(a + b) + K) + K\n\\]\nwhich we may rearrange to form\n\\[\n(M - 2)(M(a + b) + K) = 0.\n\\]\nThus, either $M = 2$, or $M(a + b) + K = 0$ for all values of $a + b$. In particular, the only possible solutions are $f(n) = 0$ and $f(n) = 2n + K$ for any constant $K \\in \\mathbb{Z}$, and these are easily seen to work.\n\n\\end{document}\n\n"
        },
        {
            "question": "Q9. Let $u_1, u_2, \\dots, u_{2019}$ be real numbers satisfying\n\\[\nu_1 + u_2 + \\cdots + u_{2019} = 0 \\quad \\text{and} \\quad u_1^2 + u_2^2 + \\cdots + u_{2019}^2 = 1.\n\\]\nLet $a = \\min(u_1, u_2, \\dots, u_{2019})$ and $b = \\max(u_1, u_2, \\dots, u_{2019})$. Prove that\n\\[\nab \\le -\\frac{1}{2019}.\n\\]\n\n\\medskip\n\\textit{(Germany)}\n\n\\medskip",
            "answer": null,
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{A2.} Let $u_1, u_2, \\dots, u_{2019}$ be real numbers satisfying\n\\[\nu_1 + u_2 + \\cdots + u_{2019} = 0 \\quad \\text{and} \\quad u_1^2 + u_2^2 + \\cdots + u_{2019}^2 = 1.\n\\]\nLet $a = \\min(u_1, u_2, \\dots, u_{2019})$ and $b = \\max(u_1, u_2, \\dots, u_{2019})$. Prove that\n\\[\nab \\le -\\frac{1}{2019}.\n\\]\n\n\\medskip\n\\textit{(Germany)}\n\n\\medskip\n\\noindent \\textbf{Solution 1.} Notice first that $b > 0$ and $a < 0$. Indeed, since $\\sum_{i=1}^{2019} u_i^2 = 1$, the variables $u_i$ cannot be all zero, and, since $\\sum_{i=1}^{2019} u_i = 0$, the nonzero elements cannot be all positive or all negative.\n\n\\medskip\nLet $P = \\{i : u_i > 0 \\}$ and $N = \\{i : u_i \\le 0 \\}$ be the indices of positive and nonpositive elements in the sequence, and let $p = |P|$ and $n = |N|$ be the sizes of these sets; then $p + n = 2019$. By the condition $\\sum_{i=1}^{2019} u_i = 0$ we have $0 = \\sum_{i=1}^{2019} u_i = \\sum_{i \\in P} u_i + \\sum_{i \\in N} u_i = \\sum_{i \\in P} u_i - \\sum_{i \\in N} |u_i|$, so\n\\[\n\\sum_{i \\in P} u_i = \\sum_{i \\in N} |u_i|. \\tag{1}\n\\]\n\n\\medskip\nAfter this preparation, estimate the sum of squares of the positive and nonpositive elements as follows:\n\\begin{align*}\n\\sum_{i \\in P} u_i^2 &\\le \\sum_{i \\in P} b u_i = b \\sum_{i \\in P} u_i = b \\sum_{i \\in N} |u_i| \\le b \\sum_{i \\in N} |a| = -nab; \\tag{2} \\\\\n\\sum_{i \\in N} u_i^2 &= \\sum_{i \\in N} |u_i|^2 \\le \\sum_{i \\in N} |a| \\cdot |u_i| = |a| \\sum_{i \\in N} |u_i| = |a| \\sum_{i \\in P} u_i \\le |a| \\sum_{i \\in P} b = -pab. \\tag{3}\n\\end{align*}\n\n\\medskip\nThe sum of these estimates is\n\\begin{align*}\n1 = \\sum_{i=1}^{2019} u_i^2 = \\sum_{i \\in P} u_i^2 + \\sum_{i \\in N} u_i^2 \\le -nab - pab = -(p + n) ab = -2019ab,\n\\end{align*}\nthat proves $ab \\le -\\frac{1}{2019}$.\n\n\\end{document}\n"
        },
        {
            "question": "Q10. Let $n \\ge 3$ be a positive integer and let $(a_1, a_2, \\dots, a_n)$ be a strictly increasing sequence of $n$ positive real numbers with sum equal to 2. Let $X$ be a subset of $\\{1, 2, \\dots, n\\}$ such that the value of\n\\[\n\\left| 1 - \\sum_{i \\in X} a_i \\right|\n\\]\nis minimised. Prove that there exists a strictly increasing sequence of $n$ positive real numbers $(b_1, b_2, \\dots, b_n)$ with sum equal to 2 such that\n\\[\n\\sum_{i \\in X} b_i = 1.\n\\]\n\n\\medskip\n\\noindent \\textit{(New Zealand)}\n\n\\medskip",
            "answer": null,
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{A3.} Let $n \\ge 3$ be a positive integer and let $(a_1, a_2, \\dots, a_n)$ be a strictly increasing sequence of $n$ positive real numbers with sum equal to 2. Let $X$ be a subset of $\\{1, 2, \\dots, n\\}$ such that the value of\n\\[\n\\left| 1 - \\sum_{i \\in X} a_i \\right|\n\\]\nis minimised. Prove that there exists a strictly increasing sequence of $n$ positive real numbers $(b_1, b_2, \\dots, b_n)$ with sum equal to 2 such that\n\\[\n\\sum_{i \\in X} b_i = 1.\n\\]\n\n\\medskip\n\\noindent \\textit{(New Zealand)}\n\n\\medskip\n\\noindent \\textbf{Common remarks.} In all solutions, we say an index set $X$ is $(a_i)$-minimising if it has the property in the problem for the given sequence $(a_i)$. Write $X^c$ for the complement of $X$, and $[a, b]$ for the interval of integers $k$ such that $a \\le k \\le b$. Note that\n\\[\n\\left| 1 - \\sum_{i \\in X} a_i \\right| = \\left| 1 - \\sum_{i \\in X^c} a_i \\right|,\n\\]\nso we may exchange $X$ and $X^c$ where convenient. Let\n\\[\n\\Delta = \\sum_{i \\in X^c} a_i - \\sum_{i \\in X} a_i.\n\\]\nand note that $X$ is $(a_i)$-minimising if and only if it minimises $|\\Delta|$, and that $\\sum_{i \\in X} a_i = 1$ if and only if $\\Delta = 0$.\n\n\\medskip\nIn some solutions, a scaling process is used. If we have a strictly increasing sequence of positive real numbers $c_i$ (typically obtained by perturbing the $a_i$ in some way) such that\n\\[\n\\sum_{i \\in X} c_i = \\sum_{i \\in X^c} c_i,\n\\]\nthen we may put $b_i = 2c_i / \\sum_{j=1}^n c_j$. So it suffices to construct such a sequence without needing its sum to be 2.\n\n\\medskip\nThe solutions below show various possible approaches to the problem. Solutions 1 and 2 perturb a few of the $a_i$ to form the $b_i$ (with scaling in the case of Solution 1, without scaling in the case of Solution 2). Solutions 3 and 4 look at properties of the index set $X$. Solution 3 then perturbs many of the $a_i$ to form the $b_i$, together with scaling. Rather than using such perturbations, Solution 4 constructs a sequence $(b_i)$ directly from the set $X$ with the required properties. Solution 4 can be used to give a complete description of sets $X$ that are $(a_i)$-minimising for some $(a_i)$.\n\n\\medskip\n\\noindent \\textbf{Solution 1.} Without loss of generality, assume $\\sum_{i \\in X} a_i \\le 1$, and we may assume strict inequality as otherwise $b_i = a_i$ works. Also, $X$ clearly cannot be empty.\nIf $n \\in X$, add $\\Delta$ to $a_n$, producing a sequence of $c_i$ with $\\sum_{i \\in X} c_i = \\sum_{i \\in X} a_i + \\Delta = \\sum_{i \\in X^c} a_i$, and then scale as described above to make the sum equal to 2. Otherwise, there is some $k$ with $k \\in X$ and $k + 1 \\in X^c$. Let $\\delta = a_{k+1} - a_k$.\n\\begin{itemize}\n    \\item If $\\delta > \\Delta$, add $\\Delta$ to $a_k$ and then scale.\n    \\item If $\\delta < \\Delta$, then considering $X \\cup \\{k + 1\\} \\setminus \\{k\\}$ contradicts $X$ being $(a_i)$-minimising.\n    \\item If $\\delta = \\Delta$, choose any $j \\ne k, k+1$ (possible since $n \\ge 3$), and any $\\epsilon$ less than the least of $\\delta$ and all the differences $a_{i+1} - a_i$. If $j \\in X$ then add $\\Delta - \\epsilon$ to $a_k$ and $\\epsilon$ to $a_j$, then scale; otherwise, add $\\Delta$ to $a_k$ and $\\epsilon/2$ to $a_{k+1}$, and subtract $\\epsilon/2$ from $a_j$, then scale.\n\\end{itemize}\n\n\\end{document}\n\n"
        },
        {
            "question": "Q11. Let $n \\ge 2$ be a positive integer and $a_1, a_2, \\dots, a_n$ be real numbers such that\n\\[\na_1 + a_2 + \\cdots + a_n = 0.\n\\]\nDefine the set $A$ by\n\\[\nA = \\{(i, j) \\mid 1 \\le i < j \\le n, |a_i - a_j| \\ge 1\\}.\n\\]\nProve that, if $A$ is not empty, then\n\\[\n\\sum_{(i,j) \\in A} a_i a_j < 0.\n\\]\n\n\\medskip\n\\noindent \\textit{(China)}\n\n\\medskip",
            "answer": null,
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{A4.} Let $n \\ge 2$ be a positive integer and $a_1, a_2, \\dots, a_n$ be real numbers such that\n\\[\na_1 + a_2 + \\cdots + a_n = 0.\n\\]\nDefine the set $A$ by\n\\[\nA = \\{(i, j) \\mid 1 \\le i < j \\le n, |a_i - a_j| \\ge 1\\}.\n\\]\nProve that, if $A$ is not empty, then\n\\[\n\\sum_{(i,j) \\in A} a_i a_j < 0.\n\\]\n\n\\medskip\n\\noindent \\textit{(China)}\n\n\\medskip\n\\noindent \\textbf{Solution 1.} Define sets $B$ and $C$ by\n\\begin{align*}\nB &= \\{(i, j) \\mid 1 \\le i < j \\le n, |a_i - a_j| \\ge 1\\}, \\\\\nC &= \\{(i, j) \\mid 1 \\le i < j \\le n, |a_i - a_j| < 1\\}.\n\\end{align*}\n\n\\medskip\nWe have\n\\begin{align*}\n\\sum_{(i,j) \\in A} a_i a_j &= \\sum_{(i,j) \\in B} a_i a_j \\\\\n&= \\frac{1}{2} \\sum_{(i,j) \\in B} a_i a_j \\\\\n\\sum_{(i,j) \\in B} a_i a_j &= \\sum_{1 \\le i < j \\le n} a_i a_j - \\sum_{(i,j) \\notin B} a_i a_j \\\\\n&= \\sum_{1 \\le i < j \\le n} a_i a_j - \\sum_{(i,j) \\in C} a_i a_j \\\\\n&= \\sum_{1 \\le i < j \\le n} a_i a_j - \\sum_{(i,j) \\in B} a_i a_j - \\sum_{(i,j) \\in C} a_i a_j.\n\\end{align*}\nSo it suffices to show that if $A$ (and hence $B$) are nonempty, then\n\\[\n\\sum_{(i,j) \\in C} a_i a_j > 0.\n\\]\n\n\\medskip\nPartition the indices into sets $P$, $Q$, $R$, and $S$ such that\n\\begin{align*}\nP &= \\{i \\mid a_i \\le -1\\} & R &= \\{i \\mid 0 < a_i < 1\\} \\\\\nQ &= \\{i \\mid -1 < a_i \\le 0\\} & S &= \\{i \\mid 1 \\le a_i \\}.\n\\end{align*}\nThen\n\\begin{align*}\n\\sum_{(i,j) \\in C} a_i a_j &\\ge \\sum_{\\substack{(i,j) \\in C \\\\\n i,j \\in S}} a_i a_j + \\sum_{\\substack{(i,j) \\in C \\\\\n i \\in Q \\cup R}} a_i a_j \\\\\n&= \\sum_{\\substack{(i,j) \\in C \\\\\n i,j \\in S}} a_i a_j + \\left( \\sum_{i \\in Q \\cup R} a_i \\right)^2 \\ge 0.\n\\end{align*}\nThe first inequality holds because all of the positive terms in the RHS are also in the LHS, and all of the negative terms in the LHS are also in the RHS. The first inequality attains equality only if both sides have the same negative terms, which implies $|a_i - a_j| < 1$ whenever $i, j \\in Q \\cup R$; the second inequality attains equality only if $P = S = \\emptyset$. But then we would have $A = \\emptyset$. So $A$ nonempty implies that the inequality holds strictly, as required.\n\n\\end{document}\n"
        },
        {
            "question": "Q12. Let $x_1, x_2, \\dots, x_n$ be different real numbers. Prove that\n\\[\n\\sum_{1 \\le i \\le n} \\prod_{\\substack{j=1 \\\\\n j \\neq i}}^n \\frac{1 - x_i x_j}{x_i - x_j} = \\begin{cases} 0, & \\text{if $n$ is even;} \\\\\n 1, & \\text{if $n$ is odd.} \\end{cases}\n\\]\n\n\\medskip\n\\noindent \\textit{(Kazakhstan)}\n\n\\medskip",
            "answer": null,
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{A5.} Let $x_1, x_2, \\dots, x_n$ be different real numbers. Prove that\n\\[\n\\sum_{1 \\le i \\le n} \\prod_{\\substack{j=1 \\\\\n j \\neq i}}^n \\frac{1 - x_i x_j}{x_i - x_j} = \\begin{cases} 0, & \\text{if $n$ is even;} \\\\\n 1, & \\text{if $n$ is odd.} \\end{cases}\n\\]\n\n\\medskip\n\\noindent \\textit{(Kazakhstan)}\n\n\\medskip\n\\noindent \\textbf{Common remarks.} Let $G(x_1, x_2, \\dots, x_n)$ be the function of the $n$ variables $x_1, x_2, \\dots, x_n$ on the LHS of the required identity.\n\n\\medskip\n\\noindent \\textbf{Solution 1 (Lagrange interpolation).} Since both sides of the identity are rational functions, it suffices to prove it when all $x_i \\notin \\{\\pm 1\\}$. Define\n\\[\nf(t) = \\prod_{i=1}^n (1 - x_i t),\n\\]\nand note that\n\\[\nf(x_i) = (1 - x_i^2) \\prod_{\\substack{j=1 \\\\\n j \\neq i}}^n (1 - x_i x_j).\n\\]\nUsing the nodes $+1, -1, x_1, \\dots, x_n$, the Lagrange interpolation formula gives us the following expression for $f$:\n\\begin{align*}\nf(x) &= \\sum_{i=1}^n f(x_i) \\frac{(x - 1)(x + 1)}{(x_i - 1)(x_i + 1)} \\prod_{\\substack{j=1 \\\\\n j \\neq i}}^n \\frac{x - x_j}{x_i - x_j} \\\\\n&+ f(1) \\frac{x + 1}{1 + 1} \\prod_{1 \\le j \\le n} \\frac{x - x_j}{1 - x_j} + f(-1) \\frac{x - 1}{-1 - 1} \\prod_{1 \\le j \\le n} \\frac{x - x_j}{-1 - x_j}.\n\\end{align*}\nThe coefficient of $t^{n+1}$ in $f(t)$ is 0, since $f$ has degree $n$. The coefficient of $t^{n+1}$ in the above expression of $f$ is\n\\begin{align*}\n0 &= \\sum_{i=1}^n \\frac{f(x_i)}{(x_i - 1)(x_i + 1)} \\prod_{\\substack{j=1 \\\\\n j \\neq i}}^n \\frac{1}{x_i - x_j} + \\frac{f(1)}{1 + 1} \\prod_{1 \\le j \\le n} \\frac{1}{1 - x_j} + \\frac{f(-1)}{-1 - 1} \\prod_{1 \\le j \\le n} \\frac{1}{-1 - x_j} \\\\\n&= \\sum_{i=1}^n \\prod_{\\substack{j=1 \\\\\n j \\neq i}}^n \\frac{1 - x_i x_j}{(x_i - x_j)(x_i^2 - 1)} + \\frac{1}{2} \\prod_{1 \\le j \\le n} \\frac{1 - x_j}{1 - x_j} - \\frac{1}{2} \\prod_{1 \\le j \\le n} \\frac{1 + x_j}{1 + x_j} \\\\\n&= -G(x_1, \\dots, x_n) + \\frac{1}{2} + \\frac{(-1)^{n+1}}{2}.\n\\end{align*}\n\n\\medskip\n\\noindent \\textbf{Comment.} The main difficulty is to think of including the two extra nodes $\\pm 1$ and evaluating the coefficient $t^{n+1}$ in $f$ when $n + 1$ is higher than the degree of $f$.\nIt is possible to solve the problem using Lagrange interpolation on the nodes $x_1, \\dots, x_n$, but the definition of the polynomial being interpolated should depend on the parity of $n$. For $n$ even, consider the polynomial\n\\[\nP(x) = \\prod_{i=1}^n (1 - x x_i) - \\prod_{i=1}^n (x - x_i).\n\\]\nLagrange interpolation shows that $G$ is the coefficient of $x^{n-1}$ in the polynomial $P(x)/(1 - x^2)$, i.e. 0.\nFor $n$ odd, consider the polynomial\n\\[\nP(x) = \\prod_{i=1}^n (1 - x x_i) - x \\prod_{i=1}^n (x - x_i).\n\\]\nNow $G$ is the coefficient of $x^{n-1}$ in $P(x)/(1 - x^2)$, which is 1.\n\n\\end{document}\n"
        },
        {
            "question": "Q13. Let $\\mathbb{Z}$ be the set of integers. We consider functions $f: \\mathbb{Z} \\to \\mathbb{Z}$ satisfying\n\\[\nf(f(x + y) + y) = f(f(x) + y)\n\\]\nfor all integers $x$ and $y$. For such a function, we say that an integer $v$ is $f$-\\textit{rare} if the set\n\\[\nX_v = \\{ x \\in \\mathbb{Z} : f(x) = v \\}\n\\]\nis finite and nonempty.\n\\begin{enumerate}\n    \\item[(a)] Prove that there exists such a function $f$ for which there is an $f$-rare integer.\n    \\item[(b)] Prove that no such function $f$ can have more than one $f$-rare integer.\n\\end{enumerate}\n\n\\medskip\n\\noindent \\textit{(Netherlands)}\n\n\\medskip",
            "answer": null,
            "solution": "\\documentclass{article}\n\\usepackage{amsmath, amssymb}\n\\usepackage{geometry}\n\\geometry{margin=1in}\n\n\\begin{document}\n\n\\noindent \\textbf{A7.} Let $\\mathbb{Z}$ be the set of integers. We consider functions $f: \\mathbb{Z} \\to \\mathbb{Z}$ satisfying\n\\[\nf(f(x + y) + y) = f(f(x) + y)\n\\]\nfor all integers $x$ and $y$. For such a function, we say that an integer $v$ is $f$-\\textit{rare} if the set\n\\[\nX_v = \\{ x \\in \\mathbb{Z} : f(x) = v \\}\n\\]\nis finite and nonempty.\n\\begin{enumerate}\n    \\item[(a)] Prove that there exists such a function $f$ for which there is an $f$-rare integer.\n    \\item[(b)] Prove that no such function $f$ can have more than one $f$-rare integer.\n\\end{enumerate}\n\n\\medskip\n\\noindent \\textit{(Netherlands)}\n\n\\medskip\n\\noindent \\textbf{Solution 1.} \\textbf{a)} Let $f$ be the function where $f(0) = 0$ and $f(x)$ is the largest power of $2$ dividing $2x$ for $x \\ne 0$. The integer $0$ is evidently $f$-rare, so it remains to verify the functional equation.\n\n\\medskip\nSince $f(2x) = 2f(x)$ for all $x$, it suffices to verify the functional equation when at least one of $x$ and $y$ is odd (the case $x = y = 0$ being trivial). If $y$ is odd, then we have\n\\[\nf(f(x+y) + y) = 2 = f(f(x) + y)\n\\]\nsince all the values attained by $f$ are even. If, on the other hand, $x$ is odd and $y$ is even, then\n\\[\nf(x + y) = 2 = f(x)\n\\]\nfrom which the functional equation follows immediately.\n\n\\medskip\n\\noindent \\textbf{b)} An easy inductive argument (substituting $x + ky$ for $x$) shows that\n\\[\nf(f(x + ky) + y) = f(f(x) + y) \\tag{*}\n\\]\nfor all integers $x, y$ and $k$. If $v$ is an $f$-rare integer and $a$ is the least element of $X_v$, then by substituting $y = a - f(x)$ in the above, we see that\n\\[\nf(x + k \\cdot (a - f(x))) - f(x) + a \\in X_v\n\\]\nfor all integers $x$ and $k$, so that in particular\n\\[\nf(x + k \\cdot (a - f(x))) \\ge f(x)\n\\]\nfor all integers $x$ and $k$, by assumption on $a$. This says that on the (possibly degenerate) arithmetic progression through $x$ with common difference $a - f(x)$, the function $f$ attains its minimal value at $x$.\n\n\\medskip\nRepeating the same argument with $a$ replaced by the greatest element $b$ of $X_v$ shows that\n\\[\nf(x + k \\cdot (b - f(x))) \\le f(x)\n\\]\nfor all integers $x$ and $k$. Combined with the above inequality, we therefore have\n\\[\nf(x + k \\cdot (a - f(x))) \\cdot f(x + k \\cdot (b - f(x))) = f(x) \\tag{\\dag}\n\\]\nfor all integers $x$ and $k$.\n\n\\medskip\nThus if $f(x) \\ne a, b$, then the set $X_{f(x)}$ contains a nondegenerate arithmetic progression, so is infinite. So the only possible $f$-rare integers are $a$ and $b$.\nIn particular, the $f$-rare integer $v$ we started with must be one of $a$ or $b$, so that $f(v) = f(a) = f(b) = v$. This means that there cannot be any other $f$-rare integers $v'$, as they would on the one hand have to be either $a$ or $b$, and on the other would have to satisfy $f(v') = v'$.\nThus $v$ is the unique $f$-rare integer.\n\nvspace{1cm}\n\\hrulefill \\textit{Shortlisted problems - solutions} \\hrulefill 29\n\n\\medskip\n\\noindent \\textbf{Comment 1.} If $f$ is a solution to the functional equation, then so too is any conjugate of $f$ by a translation, i.e. any function $x \\mapsto f(x + n) - n$ for an integer $n$. Thus in proving part (b), one is free to consider only functions $f$ for which 0 is $f$-rare, as in the following solution.\n\n\\end{document}\n\n"
        },     
        {
            "question": "Q14  Let $n$ be an integer, and let $A$ be a subset of $\{0, 1, 2, 3, \dots, 5^n\}$ consisting of $4n + 2$ numbers. Prove that there exist $a, b, c \in A$ such that $a < b < c$ and $c + 2a > 3b$.",
            "answer": null,
            "solution": "\\textbf{Solution 1.} (By contradiction) Suppose that there exist $4n + 2$ non-negative integers $x_0 < x_1 < \dots < x_{4n+1}$ that violate the problem statement. Then in particular $x_{4n+1} + 2x_i \leq 3x_{i+1}$ for all $i = 0, \dots, 4n-1$, which gives\n$$ x_{4n+1} - x_i \geq \frac{3}{2} (x_{4n+1} - x_{i+1}). $$\n\nBy a trivial induction we then get\n$$ x_{4n+1} - x_i \geq \left( \frac{3}{2} \right)^{4n-i} (x_{4n+1} - x_{4n}), $$\nwhich for $i = 0$ yields the contradiction\n$$ x_{4n+1} - x_0 \geq \left( \frac{3}{2} \right)^{4n} (x_{4n+1} - x_{4n}) = \left( \frac{81}{16} \right)^n (x_{4n+1} - x_{4n}) > 5^n \cdot 1. $$\n\n\\textbf{Solution 2.} Denote the maximum element of $A$ by $c$. For $k = 0, \dots, 4n-1$ let\n$$ A_k = \left\\{ x \in A : \left( 1 - \left( \frac{2}{3} \right)^k \right) c \leq x < \left( 1 - \left( \frac{2}{3} \right)^{k+1} \right) c \\right\\}. $$\n\nNote that\n$$ \left( 1 - \left( \frac{2}{3} \right)^{4n} \right) c = c - \left( \frac{16}{81} \right)^n c > c - \left( \frac{1}{5} \right)^n c \geq c - 1, $$\nwhich shows that the sets $A_0, A_1, \dots, A_{4n-1}$ form a partition of $A \setminus \{c\}$. Since $A \setminus \{c\}$ has $4n + 1$ elements, by the pigeonhole principle some set $A_k$ does contain at least two elements of $A \setminus \{c\}$. Denote these two elements $a$ and $b$ and assume $a < b$, so that $a < b < c$. Then\n$$ c + 2a \geq c + 2 \left( 1 - \left( \frac{2}{3} \right)^k \right) c = \left( 3 - 2 \left( \frac{2}{3} \right)^k \right) c = 3 \left( 1 - \frac{2}{3} \left( \frac{2}{3} \right)^k \right) c > 3b, $$\nas desired.",
        },
        {
            "question": " Q15 For every integer $n \geq 1$ consider the $n \times n$ table with entry $\\left\\lfloor \\frac{ij}{n+1} \\right\\rfloor$ at the intersection of row $i$ and column $j$, for every $i = 1, \\dots, n$ and $j = 1, \\dots, n$. Determine all integers $n \geq 1$ for which the sum of the $n^2$ entries in the table is equal to $\\frac{n^2(n-1)}{4}$.",
            "answer": "All integers $n$ for which $n + 1$ is a prime.",
            "solution": "\\textbf{Solution 1.} First, observe that every pair $x, y$ of real numbers for which the sum $x + y$ is integer satisfies\n$$ \\lfloor x \\rfloor + \\lfloor y \\rfloor \\geq x + y - 1. \\qquad (1) $$\n\nThe inequality is strict if $x$ and $y$ are integers, and it holds with equality otherwise. We estimate the sum $S$ as follows.\n\\begin{align*}\n    2S &- \\sum_{i, j \\leq n} \\left( \\left\\lfloor \\frac{ij}{n+1} \\right\\rfloor + \\left\\lfloor \\frac{(n+1-i)j}{n+1} \\right\\rfloor \\right) - \\sum_{i \\leq n} \\left( \\left\\lfloor \\frac{ij}{n+1} \\right\\rfloor + \\left\\lfloor \\frac{i(n+1-j)}{n+1} \\right\\rfloor \\right) \\\\\n    &\\geq \\sum_{i \\leq n} (j - 1) - \\frac{(n-1)n^2}{2}\n\\end{align*}\n\nThe inequality in the last line follows from (1) by setting $x = ij/(n+1)$ and $y = (n+1-i)j/(n+1)$, so that $x + y - j$ is integral.\n\nNow $S = \\frac{n^2(n-1)}{4}$ if and only if the inequality in the last line holds with equality, which means that none of the values $ij/(n+1)$ with $1 < i, j < n$ may be integral.\n\nHence, if $n+1$ is composite with factorisation $n+1 = ab$ for $2 \\leq a, b < n$, one gets a strict inequality for $i = a$ and $j = b$. If $n+1$ is a prime, then $ij/(n+1)$ is never integral and $S = \\frac{n^2(n-1)}{4}$."
        },
        {
            "question":" Q16  Given a positive integer $n$, find the smallest value of $\\left\\lfloor \\frac{a_1}{1} \\right\\rfloor + \\left\\lfloor \\frac{a_2}{2} \\right\\rfloor + \\dots + \\left\\lfloor \\frac{a_n}{n} \\right\\rfloor$ over all permutations $(a_1, a_2, \\dots, a_n)$ of $\{1, 2, \\dots, n\}$.",
            "answer": "The minimum of such sums is $\\lfloor \log_2 n \\rfloor + 1$; so if $2^k \\leq n < 2^{k+1}$, the minimum is $k+1$.",
            "solution": "\\textbf{Solution 1.} Suppose that $2^k \\leq n < 2^{k+1}$ with some nonnegative integer $k$. First we show a permutation $(a_1, a_2, \\dots, a_n)$ such that $\\left\\lfloor \\frac{a_1}{1} \\right\\rfloor + \\left\\lfloor \\frac{a_2}{2} \\right\\rfloor + \\dots + \\left\\lfloor \\frac{a_n}{n} \\right\\rfloor = k + 1$; then we will prove that $\\left\\lfloor \\frac{a_1}{1} \\right\\rfloor + \\left\\lfloor \\frac{a_2}{2} \\right\\rfloor + \\dots + \\left\\lfloor \\frac{a_n}{n} \\right\\rfloor \\geq k + 1$ for every permutation. Hence, the minimal possible value will be $k+1$.\n\n\\textbf{I.} Consider the permutation\n\\begin{align*}\n    (a_1) &= (1), \\quad (a_2, a_3) = (3, 2), \\quad (a_4, a_5, a_6, a_7) = (7, 4, 5, 6), \\dots \\\\\n    (a_{2^{k-1}}, \\dots, a_{2^{k-1} - 1}) &= (2^k - 1, 2^{k-1}, 2^{k-1} + 1, \\dots, 2^k - 2), \\\\\n    (a_{2^{k}}, \\dots, a_{n}) &= (n, 2^k, 2^k + 1, \\dots, n - 1)\n\\end{align*}\n\nThis permutation consists of $k + 1$ cycles. In every cycle $(a_p, \\dots, a_q) = (q, p, p+1, \\dots, q - 1)$ we have $q < 2p$, so\n$$ \\sum_{i=p}^{q} \\left\\lfloor \\frac{a_i}{i} \\right\\rfloor - \\left\\lfloor \\frac{q}{p} \\right\\rfloor + \\sum_{i=p+1}^{q} \\left\\lfloor \\frac{i-1}{i} \\right\\rfloor - 1; $$\n\nThe total sum over all cycles is precisely $k + 1$.\n\n\\textbf{II.} In order to establish the lower bound, we prove a more general statement.\n\n\\textbf{Claim.} If $b_1, \\dots, b_{2^k}$ are distinct positive integers then\n$$ \\sum_{i=1}^{2^k} \\left\\lfloor \\frac{b_i}{i} \\right\\rfloor \\geq k + 1. $$\n\nFrom the Claim it follows immediately that $\\sum_{i=1}^{n} \\left\\lfloor \\frac{a_i}{i} \\right\\rfloor \\geq \\sum_{i=1}^{2^k} \\left\\lfloor \\frac{a_i}{i} \\right\\rfloor \\geq k + 1$.\n\n\\textbf{Proof of the Claim.} Apply induction on $k$. For $k - 1$ the claim is trivial, $\\left\\lfloor \\frac{1}{1} \\right\\rfloor \\geq 1$. Suppose the Claim holds true for some positive integer $k$, and consider $k + 1$.\n\nIf there exists an index $j$ such that $2^k < j \\leq 2^{k+1}$ and $b_j \\geq j$ then\n$$ \\sum_{i=1}^{2^{k+1}} \\left\\lfloor \\frac{b_i}{i} \\right\\rfloor \\geq \\sum_{i=1}^{2^{k}} \\left\\lfloor \\frac{b_i}{i} \\right\\rfloor + \\left\\lfloor \\frac{b_j}{j} \\right\\rfloor \\geq (k + 1) + 1 $$\nby the induction hypothesis, so the Claim is satisfied.\n\nOtherwise we have $b_j < j \\leq 2^{k+1}$ for every $2^k < j \\leq 2^{k+1}$. Among the $2^{k+1}$ distinct numbers $b_1, \\dots, b_{2^{k+1}}$ there is some $b_m$ which is at least $2^{k+1}$; that number must be among $b_1, \\dots, b_{2^k}$. Hence, $1 \\leq m \\leq 2^k$ and $b_m \\geq 2^{k+1}$.\n\nWe will apply the induction hypothesis to the numbers\n$$ c_1 - b_1, \\dots, c_{m-1} - b_{m-1}, \\quad c_m - b_{2^k + 1}, \\dots, c_{2^k} - b_{2^{k}}, $$\nso take the first $2^k$ numbers but replace $b_m$ with $b_{2^k + 1}$. Notice that\n$$ \\left\\lfloor \\frac{b_m}{m} \\right\\rfloor - \\left\\lfloor \\frac{2^{k+1}}{m} \\right\\rfloor \\geq \\left\\lfloor \\frac{2^{k+2}}{m} \\right\\rfloor > \\left\\lfloor \\frac{b_{2^k + 1} + m}{m} \\right\\rfloor - \\left\\lfloor \\frac{c_m}{m} \\right\\rfloor + 1. $$\n\nFor the other indices $i$ with $1 \\leq i \\leq 2^k, i \\neq m$ we have $\\left\\lfloor \\frac{b_i}{i} \\right\\rfloor = \\left\\lfloor \\frac{c_i}{i} \\right\\rfloor$, so\n$$ \\sum_{i=1}^{2^{k+1}} \\left\\lfloor \\frac{b_i}{i} \\right\\rfloor - \\sum_{i=1}^{2^{k}} \\left\\lfloor \\frac{b_i}{i} \\right\\rfloor \\geq \\sum_{i=1}^{2^{k}} \\left\\lfloor \\frac{c_i}{i} \\right\\rfloor + 1 > (k + 1) + 1. $$\n\nThat proves the Claim and hence completes the solution."
        },
        {
            "question": "Q17 . Show that for all real numbers $x_1, \\dots, x_n$ the following inequality holds:\n$$ \\sum_{i=1}^{n} \\sum_{j=1}^{n} \\sqrt{|x_i - x_j|} \\leq \\sum_{i=1}^{n} \\sum_{j=1}^{n} \\sqrt{|x_i + x_j|}. $$",
            "answer": null,
            "solution": "\\textbf{Solution 1.} If we add $t$ to all the variables then the left-hand side remains constant and the right-hand side becomes\n$$ H(t) := \\sum_{i=1}^{n} \\sum_{j=1}^{n} \\sqrt{|x_i + x_j + 2t|}. $$\n\nLet $T$ be large enough such that both $H(-T)$ and $H(T)$ are larger than the value $L$ of the left-hand side of the inequality we want to prove. Not necessarily distinct points $p_{i,j} := -(x_i + x_j)/2$ together with $T$ and $-T$ split the real line into segments and two rays such that on each of these segments and rays the function $H(t)$ is concave since $f(t) := \\sqrt{|\\ell + 2t|}$ is concave on both intervals $(-\\infty, -\\ell/2]$ and $[-\\ell/2, +\\infty)$. Let $[a, b]$ be the segment containing zero. Then concavity implies $H(0) \\geq \\min\\{H(a), H(b)\\}$ and, since $H(\\pm T) > L$, it suffices to prove the inequalities $H(-(x_i + x_j)/2) \\geq L$, that is to prove the original inequality in the case when all numbers are shifted in such a way that two variables $x_i$ and $x_j$ add up to zero. In the following we denote the shifted variables still by $x_i$.\n\nIf $i = j$, i.e. $x_i = 0$ for some index $i$, then we can remove $x_i$ which will decrease both sides by $2 \\sum_{k} \\sqrt{|x_k|}$. Similarly, if $x_i + x_j = 0$ for distinct $i$ and $j$ we can remove both $x_i$ and $x_j$ which decreases both sides by\n$$ 2 \\sqrt{2|x_i|} + 2 \\cdot \\sum_{k \\neq i, j} \\left( \\sqrt{|x_k + x_i|} + \\sqrt{|x_k + x_j|} \\right). $$\n\nIn either case we reduced our inequality to the case of smaller $n$. It remains to note that for $n = 0$ and $n = 1$ the inequality is trivial."
        },
        {
            "question":"Q18 . Let $n \geq 2$ be an integer, and let $a_1, a_2, \\dots, a_n$ be positive real numbers such that $a_1 + a_2 + \\dots + a_n = 1$. Prove that\n$$ \\sum_{k=1}^{n} \\frac{a_k}{1 - a_k} (a_1 + a_2 + \\dots + a_{k-1})^2 < \\frac{1}{3}. $$",
            "answer": null,
            "solution": "\\textbf{Solution 1.} For all $k \\leq n$, let\n$$ s_k = a_1 + a_2 + \\dots + a_k \\quad \\text{and} \\quad b_k = \\frac{a_k s_{k-1}^2}{1 - a_k}, $$\nwith the convention that $s_0 = 0$. Note that $b_k$ is exactly a summand in the sum we need to estimate. We shall prove the inequality\n$$ b_k < \\frac{s_k^3 - s_{k-1}^3}{3}. \\qquad (1) $$\n\nIndeed, it suffices to check that\n\\begin{align*}\n    (1) &\\iff 0 < (1 - a_k) \\left( (s_{k-1} + a_k)^3 - s_{k-1}^3 \\right) - 3a_k s_{k-1}^2 \\\\\n    &\\iff 0 < (1 - a_k) \\left( 3s_{k-1}^2 a_k + 3s_{k-1} a_k^2 + a_k^3 \\right) - 3a_k s_{k-1}^2 \\\\\n    &\\iff 0 < -3a_k s_{k-1}^2 a_k + 3(1 - a_k) s_{k-1} a_k^2 + (1 - a_k) a_k^3 \\\\\n    &\\iff 0 < 3(1 - a_k - s_{k-1}) s_{k-1} a_k + (1 - a_k) a_k^2\n\\end{align*}\nwhich holds since $a_k + s_{k-1} = s_k \\leq 1$ and $a_k \\in (0, 1)$.\n\nThus, adding inequalities (1) for $k = 1, \\dots, n$, we conclude that\n$$ b_1 + b_2 + \\dots + b_n < \\frac{s_n^3 - s_0^3}{3} = \\frac{1}{3}, $$\nas desired."
        },
        {
            "question": "Q19. Let $A$ be a finite set of (not necessarily positive) integers, and let $m \geq 2$ be an integer. Assume that there exist non-empty subsets $B_1, B_2, B_3, \\dots, B_m$ of $A$ whose elements add up to the sums $m^1, m^2, m^3, \\dots, m^m$, respectively. Prove that $A$ contains at least $m/2$ elements.",
            "answer": null,
            "solution": "\\textbf{Solution.} Let $A = \\{a_1, \\dots, a_k\\}$. Assume that, on the contrary, $k = |A| < m/2$. Let\n$$ s_i := \\sum_{j : a_j \\in B_i} a_j $$\nbe the sum of elements of $B_i$. We are given that $s_i = m^i$ for $i = 1, \\dots, m$.\n\nNow consider all $m^m$ expressions of the form\n$$ f(c_1, \\dots, c_m) := c_1 s_1 + c_2 s_2 + \\dots + c_m s_m, \\quad c_i \\in \\{0, 1, \\dots, m-1\\} \\text{ for all } i = 1, 2, \\dots, m. $$\n\nNote that every number $f(c_1, \\dots, c_m)$ has the form\n$$ \\alpha_1 a_1 + \\dots + \\alpha_k a_k, \\quad \\alpha_i \\in \\{0, 1, \\dots, m(m-1)\\}. $$\n\nHence, there are at most $[m(m-1) + 1]^k < m^{2k} < m^{m}$ distinct values of our expressions; therefore, at least two of them coincide.\n\nSince $s_i = m^i$, this contradicts the uniqueness of representation of positive integers in the base-$m$ system."
        },
        {
            "question": "Q20. Let $n \geq 1$ be an integer, and let $x_0, x_1, \\dots, x_{n+1}$ be $n + 2$ non-negative real numbers that satisfy $x_i x_{i+1} - x_{i-1}^2 \\geq 1$ for all $i = 1, 2, \\dots, n$. Show that\n$$ x_0 + x_1 + \\dots + x_n + x_{n+1} > \\left( \\frac{2n}{3} \\right)^{3/2}. $$",
            "answer": null,
            "solution": "\\textbf{Solution 1.}\n\n\\textbf{Lemma 1.1.} If $a, b, c$ are non-negative numbers such that $ab - c^2 \\geq 1$, then\n$$ (a + 2b)^2 \\geq (b + 2c)^2 + 6. $$\n\n\\textbf{Proof.} $(a + 2b)^2 - (b + 2c)^2 - (a - b)^2 + 2(b - c)^2 + 6(ab - c^2) \\geq 6$. $\\square$\n\n\\textbf{Lemma 1.2.} $\\sqrt{1} + \\dots + \\sqrt{n} > \\frac{2}{3} n^{3/2}$.\n\n\\textbf{Proof.} Bernoulli's inequality $(1 + t)^{3/2} > 1 + \\frac{3}{2} t$ for $0 > t \\geq -1$ (or, alternatively, a straightforward check) gives\n$$ (k - 1)^{3/2} - k^{3/2} \\left( 1 - \\frac{1}{k} \\right)^{3/2} > k^{3/2} \\left( 1 - \\frac{3}{2k} \\right) - k^{3/2} - \\frac{3}{2} \\sqrt{k}. \\qquad (*)\n$$\nSumming up $(*)$ over $k = 1, 2, \\dots, n$ yields\n$$ 0 > n^{3/2} - \\frac{3}{2} \\left( \\sqrt{1} + \\dots + \\sqrt{n} \\right). $$\n\nNow put $y_i := 2x_i + x_{i+1}$ for $i = 0, 1, \\dots, n$. We get $y_0 \\geq 0$ and $y_i^2 \\geq y_{i-1}^2 + 6$ for $i = 1, 2, \\dots, n$ by Lemma 1.1. Thus, an easy induction on $i$ gives $y_i \\geq \\sqrt{6i}$. Using this estimate and Lemma 1.2 we get\n$$ 3(x_0 + \\dots + x_{n+1}) \\geq y_1 + \\dots + y_n > \\sqrt{6} \\left( \\sqrt{1} + \\sqrt{2} + \\dots + \\sqrt{n} \\right) > \\sqrt{6} \\cdot \\frac{2}{3} n^{3/2} - 3 \\left( \\frac{2n}{3} \\right)^{3/2}. $$"
        },
        {
            "question":" Q21. Determine all functions $f : \\mathbb{R} \\to \\mathbb{R}$ that satisfy\n$$ (f(a) - f(b)) (f(b) - f(c)) (f(c) - f(a)) = f(ab^2 + bc^2 + ca^2) - f(a^2b + b^2c + c^2a) $$\nfor all real numbers $a, b, c$.",
            "answer": "$f(x) = \\alpha x + \\beta$ or $f(x) = \\alpha x^3 + \\beta$ where $\\alpha \\in \\{-1, 0, 1\\}$ and $\\beta \\in \\mathbb{R}$.",
            "solution": "\\textbf{Solution.} It is straightforward to check that above functions satisfy the equation. Now let $f(x)$ satisfy the equation, which we denote $E(a, b, c)$. Then clearly $f(x) + C$ also does; therefore, we may suppose without loss of generality that $f(0) = 0$. We start with proving\n\n\\textbf{Lemma.} Either $f(x) = 0$ or $f$ is injective.\n\n\\textbf{Proof.} Denote by $\\Theta \\subset \\mathbb{R}^2$ the set of points $(a, b)$ for which $f(a) = f(b)$. Let $\\Theta^* = \\{(x, y) \\in \\Theta : x \\neq y\\}$. The idea is that if $(a, b) \\in \\Theta$, then by $E(a, b, x)$ we get\n$$ H_{a,b}(x) := (ab^2 + bx^2 + xa^2, a^2b + b^2x + x^2a) \\in \\Theta $$\nfor all real $x$. Reproducing this argument starting with $(a, b) \\in \\Theta^*$, we get more and more points in $\\Theta$. There are many ways to fill in the details, we give below only one of them. Assume that $(a, b) \\in \\Theta^*$. Note that\n$$ g_-(x) := (ab^2 + bx^2 + xa^2) - (a^2b + b^2x + x^2a) - (a - b)(b - x)(x - a) $$\nand\n$$ g_+(x) := (ab^2 + bx^2 + xa^2) + (a^2b + b^2x + x^2a) - (x^2 + ab)(a + b) + x(a^2 + b^2). $$\nHence, there exists $x$ for which both $g_-(x) \\neq 0$ and $g_+(x) \\neq 0$. This gives a point $(\\alpha, \\beta) = H_{a,b}(x) \\in \\Theta^*$ for which $\\alpha \\neq - \\beta$. Now compare $E(\\alpha, 1, 0)$ and $E(\\beta, 1, 0)$. The left-hand side expressions coincide, on right-hand side we get $f(a) - f(\\alpha^2)$ and $f(\\beta) - f(\\beta^2)$, respectively. Hence, $f(\\alpha^2) - f(\\beta^2)$ and we get a point ($\\alpha_1, \\beta_1) := (\\alpha^2, \\beta^2) \\in \\Theta^*$ with both coordinates $\\alpha_1, \\beta_1$ non-negative. Continuing squaring the coordinates, we get a point ($\\gamma, \\delta) \\in \\Theta^*$ for which $\\delta > 5 \\gamma \\geq 0$. Our nearest goal is to get a point $(0, r) \\in \\Theta^*$. If $\\gamma > 0$, denote by $x$ a real root of the quadratic equation $\\delta \\gamma x^2 + \\gamma x + x \\delta^2 = 0$, which exists since the discriminant $\\delta^4 - 4 \\delta \\gamma^3$ is positive. Also $x < 0$ since this equation cannot have non-negative root. For the point $H_{\\delta, \\gamma}(x) := (0, r) \\in \\Theta$ the first coordinate is 0. The difference of coordinates equals $-r - (\\delta - \\gamma) (\\gamma - x) (x - \\delta) < 0$, so $r \\neq 0$ as desired.\n\nNow let $(0, r) \\in \\Theta^*$. We get $H_{0,r}(x) = (rx^2, r^2x) \\in \\Theta$. Thus $f(rx^2) - f(r^2x)$ for all $x \\in \\mathbb{R}$. Replacing $x$ to $-x$ we get $H_{a, -a}(x) = (a^3 - ar^2 + ra^2, -a^3 + a^2r + r^2a) \\in \\Theta$ for all real $a, x$. Putting $x = \\frac{1-\\sqrt{5}}{2}a$ we obtain $(0, (1 + \\sqrt{5}) a^3) \\in \\Theta$ which means that $f(y) - f(0) = 0$ for every real $y$. $\\square$\n\nHereafter we assume that $f$ is injective and $f(0) = 0$. By $E(a, b, 0)$ we get\n$$ f(a) f(b) (f(a) - f(b)) = f(a^2b) - f(ab^2). \\qquad (\\spadesuit) $$\n\nLet $\\kappa := f(1)$ and note that $\\kappa = f(1) \\neq f(0) = 0$ by injectivity. Putting $b = 1$ in $(\\spadesuit)$ we get\n$$ \\kappa f(a) (f(a) - \\kappa) = f(a^2) - f(a). \\qquad (\\clubsuit) $$\n\nSubtracting the same equality for $-a$ we get\n$$ \\kappa (f(a) - f(-a)) (f(a) + f(-a) - \\kappa) - f(-a) - f(a). $$\n\nNow, if $a \\neq 0$, by injectivity we get $f(a) - f(-a) \\neq 0$ and thus\n$$ f(a) + f(-a) - \\kappa - \\kappa^{-1} := \\lambda. \\qquad (\\spadesuit) $$\n\nIt follows that\n$$ f(a) - f(b) - f(-b) - f(-a) $$\nfor all non-zero $a, b$. Replace non-zero numbers $a, b$ in $(\\spadesuit)$ with $-a, -b$, respectively, and add the two equalities. Due to $(\\spadesuit)$ we get\n$$ (f(a) - f(b)) (f(a) f(b) - f(-a) f(-b)) = 0, $$\nthus $f(a) f(b) - f(-a) f(-b) - (\\lambda - f(a)) (\\lambda - f(b))$ for all non-zero $a \\neq b$. If $\\lambda \\neq 0$, this implies $f(a) + f(b) - \\lambda$ that contradicts injectivity when we vary $b$ with fixed $a$. Therefore, $\\lambda = 0$ and $\\kappa = \\pm 1$. Thus $f$ is odd. Replacing $f$ with $-f$ if necessary (this preserves the original equation) we may suppose that $f(1) = 1$.\n\nNow, $(\\clubsuit)$ yields $f(a^2) = f(a)^2$. Summing relations $(\\spadesuit)$ for pairs $(a, b)$ and $(a, -b)$, we get $-2f(a) f^2(b) = -2f(ab^2)$, i.e. $f(a) f(b^2) = f(ab^2)$. Putting $b = \\sqrt{x}$ for each non-negative $x$ we get $f(ax) = f(a) f(x)$ for all real $a$ and non-negative $x$. Since $f$ is odd, this multiplicativity relation is true for all $a, x$. Also, from $f(a^2) = f(a)^2$ we see that $f(x) \\geq 0$ for $x \\geq 0$. Next, assume that $f(x)$ for $x > 0$ does not have the form $f(x) = x^{\\tau}$ for a constant $\\tau$. The known property of multiplicative functions yields that the graph of $f$ is dense on $(0, \\infty)^2$. In particular, we may find positive $b < 1/10$ for which $f(b) > 1$. Also, such $b$ can be found if $f(x) = x^{\\tau}$ for some $\\tau < 0$. Then for all $x$ we have $x^2 + xb + b \\geq 0$ and so $E(1, b, x)$ implies that\n$$ f(b^2 + bx^2 + x) - f(x^2 + xb^2 + b) + (f(b) - 1) (f(x) - f(b)) (f(x) - 1) \\geq 0 - \\left( (f(b) - 1)^3/4 $$\nis bounded from below (the quadratic trinomial bound $(t - f(1)) (t - f(b)) \\geq -(f(b) - 1)^2/4$ for $t - f(x)$ is used). Hence, $f$ is bounded from below on $(b^2 - \\frac{1}{4b}, +\\infty)$, and since $f$ is odd it is bounded from above on $(0, \\frac{1}{4b} - b^2)$. This is absurd if $f(x) = x^{\\tau}$ for $\\tau < 0$, and contradicts to the above dense graph condition otherwise.\n\nTherefore, $f(x) = x^{\\tau}$ for $x > 0$ and some constant $\\tau > 0$. Dividing $E(a, b, c)$ by $(a-b)(b - c)(c - a)$ and taking a limit when $a, b, c$ all go to 1 (the divided ratios tend to the corresponding derivatives, say, $\\frac{\\overline{ab}}{b-a} \\to |xz'|_{x=1} = \\tau$), we get $3^{\\tau/2} 1/2 - \\tau = 0$. Since function $F(\\tau)$ is strictly convex, it has at most two roots, and we get $\\tau \\in \\{1, 3\\}$."
        }, {
            "question": "Q22 Let $(a_n)_{n \ge 1}$ be a sequence of positive real numbers with the property that\n\\[\n(a_{n+1})^2 + a_n a_{n+2} \\le a_n + a_{n+2}\n\\]\nfor all positive integers $n$. Show that $a_{2022} \\le 1$.",
            "answer": null,
            "solution": "\\textbf{Solution.} We begin by observing that $(a_{n+1})^2 - 1 \\le a_n + a_{n+2} - a_n a_{n+2} - 1$, which is equivalent to\n\\[\n(a_{n+1})^2 - 1 \\le (1 - a_n)(a_{n+2} - 1).\n\\]\nSuppose now that there exists a positive integer $n$ such that $a_{n+1} > 1$ and $a_{n+2} > 1$.\nSince $(a_{n+1})^2 - 1 \\le (1 - a_n)(a_{n+2} - 1)$, we deduce that $0 < 1 - a_n < 1 < 1 + a_{n+2}$, thus $(a_{n+1})^2 - 1 < (a_{n+2} + 1)(a_{n+2} - 1) = (a_{n+2})^2 - 1$.\nOn the other hand, $(a_{n+2})^2 - 1 \\le (1 - a_{n+3})(a_{n+1} - 1) < (1 + a_{n+1})(a_{n+1} - 1) = (a_{n+1})^2 - 1$, a contradiction. We have shown that we cannot have two consecutive terms, except maybe $a_1$ and $a_2$, strictly greater than 1.\n\nFinally, suppose $a_{2022} > 1$. This implies that $a_{2021} \\le 1$ and $a_{2023} \\le 1$. Therefore $0 < (a_{2022})^2 - 1 \\le (1 - a_{2021})(a_{2023} - 1) \\le 0$, a contradiction. We conclude that $a_{2022} \\le 1$."
        },
        {
            "question": "Q23. Let $k \ge 2$ be an integer. Find the smallest integer $n \ge k+1$ with the property that there exists a set of $n$ distinct real numbers such that each of its elements can be written as a sum of $k$ other distinct elements of the set.",
            "answer": "$n = k+4$.",
            "solution": "\\textbf{Solution.} First we show that $n \\ge k+4$. Suppose that there exists such a set with $n$ numbers and denote them by $a_1 < a_2 < \\dots < a_n$.\n\nNote that in order to express $a_1$ as a sum of $k$ distinct elements of the set, we must have $a_1 \\ge a_2 + \\dots + a_{k+1}$ and, similarly for $a_n$, we must have $a_{n-k} + \\dots + a_{n-1} \\ge a_n$. We also know that $n \\ge k+1$.\n\nIf $n = k+1$ then we have $a_1 \\ge a_2 + \\dots + a_{k+1} > a_1 + \\dots + a_k > a_{k+1}$, which gives a contradiction.\n\nIf $n = k+2$ then we have $a_1 \\ge a_2 + \\dots + a_{k+1} \\ge a_{k+2}$, that again gives a contradiction.\n\nIf $n = k+3$ then we have $a_1 \\ge a_2 + \\dots + a_{k+1}$ and $a_3 + \\dots + a_{k+2} \\ge a_{k+3}$. Adding the two inequalities we get $a_1 + a_{k+2} \\ge a_2 + a_{k+3}$, again a contradiction.\n\nIt remains to give an example of a set with $k+4$ elements satisfying the condition of the problem. We start with the case when $k = 2l$ and $l \\ge 1$. In that case, denote by $A_i = \\{-i, i\\}$ and take the set $A_1 \\cup \\dots \\cup A_{l+2}$, which has exactly $k+4 = 2l+4$ elements. We are left to show that this set satisfies the required condition.\n\nNote that if a number $i$ can be expressed in the desired way, then so can $-i$ by negating the expression. Therefore, we consider only $1 \\le i \\le l+2$.\n\nIf $i < l+2$, we sum the numbers from some $l-1$ sets $A_j$ with $j \\neq i, l+1$, and the numbers $i + 1$ and $-1$.\n\nFor $i = l+2$, we sum the numbers from some $l-1$ sets $A_j$ with $j \\neq i, l+1$, and the numbers $l+1$ and 1.\n\nIt remains to a give a construction for odd $k = 2l+1$ with $l \\ge 1$ (since $k \\ge 2$). To that end, we modify the construction for $k = 2l$ by adding 0 to the previous set.\n\nThis is a valid set as 0 can be added to each constructed expression, and 0 can be expressed as follows: take the numbers 1, 2, -3 and all the numbers from the remaining $l-1$ sets $A_4, A_5, \\dots, A_{l+2}$."
        },
        {
            "question": "Q24. Let $\\mathbb{R}_{>0}$ be the set of positive real numbers. Find all functions $f: \\mathbb{R}_{>0} \\to \\mathbb{R}_{>0}$ such that, for every $x \\in \\mathbb{R}_{>0}$, there exists a unique $y \\in \\mathbb{R}_{>0}$ satisfying\n\\[\nxf(y) + yf(x) < 2.\n\\]",
            "answer": "The function $f(x) = 1/x$ is the only solution.",
            "solution": "\\textbf{Solution 1.} First we prove that the function $f(x) = 1/x$ satisfies the condition of the problem statement. The AM-GM inequality gives\n\\[\n\\frac{x}{y} + \\frac{y}{x} \\ge 2\n\\]\nfor every $x, y > 0$, with equality if and only if $x=y$. This means that, for every $x>0$, there exists a unique $y>0$ such that\n\\[\n\\frac{x}{y} + \\frac{y}{x} < 2,\n\\]\nnamely $y=x$.\n\nLet now $f: \\mathbb{R}_{>0} \\to \\mathbb{R}_{>0}$ be a function that satisfies the condition of the problem statement.\nWe say that a pair of positive real numbers $(x, y)$ is good if $xf(y) + yf(x) < 2$. Observe that if $(x, y)$ is good then so is $(y, x)$.\n\n\\textbf{Lemma 1.0.} If $(x, y)$ is good, then $x=y$.\n\n\\textbf{Proof.} Assume that there exist positive real numbers $x \\neq y$ such that $(x, y)$ is good. The uniqueness assumption says that $y$ is the unique positive real number such that $(x, y)$ is good. In particular, $(x, x)$ is not a good pair. This means that\n\\[\nxf(x) + xf(x) \\ge 2\n\\]\nand thus $xf(x) \\ge 1$. Similarly, $(y, x)$ is a good pair, so $(y, y)$ is not a good pair, which implies $yf(y) \\ge 1$. We apply the AM-GM inequality to obtain\n\\[\nxf(y) + yf(x) \\ge 2\\sqrt{xf(y) \\cdot yf(x)} = 2\\sqrt{xy \\cdot f(x)f(y)} \\ge 2.\n\\]\nThis is a contradiction, since $(x, y)$ is a good pair.\n\nBy assumption, for any $x > 0$, there always exists a good pair containing $x$, however Lemma 1 implies that the only good pair that can contain $x$ is $(x, x)$, so\n\\[\nxf(x) < 1 \\iff f(x) < \\frac{1}{x}\n\\]\nfor every $x>0$.\n\nIn particular, with $x = 1/f(t)$ for $t>0$, we obtain\n\\[\n\\frac{1}{f(t)} \\cdot f(f(t)) < 1.\n\\]\nHence\n\\[\nt - f\\left(\\frac{1}{f(t)}\\right) < tf(t) < 1.\n\\]\nWe claim that $(t, 1/f(t))$ is a good pair for every $t > 0$. Indeed,\n\\[\nt \\cdot f\\left(\\frac{1}{f(t)}\\right) + \\frac{1}{f(t)} f(t) = t \\cdot f\\left(\\frac{1}{f(t)}\\right) + 1 < 2.\n\\]\nLemma 1 implies that $t = 1/f(t) \\iff f(t) = 1/t$ for every $t > 0$."
        },
        {
            "question": "Q25. Let $n \ge 3$ be an integer, and let $x_1, x_2, \\dots, x_n$ be real numbers in the interval $[0, 1]$. Let $s = x_1 + x_2 + \\dots + x_n$, and assume that $s \ge 3$. Prove that there exist integers $i$ and $j$ with $1 \\le i < j \\le n$ such that\n\\[\n2^{j-i} x_i x_j > 2^{s-3}.\n\\]",
            "answer": null,
            "solution": "\\textbf{Solution.}

                Let $1 \\le a < b \\le n$ be such that $2^{b-a} x_a x_b$ is maximal. This choice of $a$ and $b$ implies that $x_{a+t} \\le 2^t x_a$ for all $1-a \\le t \\le b-a-1$, and similarly $x_{b-t} \\le 2^t x_b$ for all $b-n \\le t \\le b-a+1$.\nNow, suppose that $x_a \\in \\left(\\frac{1}{2^{u+1}}, \\frac{1}{2^u}\\right]$ and $x_b \\in \\left(\\frac{1}{2^{v+1}}, \\frac{1}{2^v}\\right]$, and write $x_a = 2^{-\\alpha}, x_b = 2^{-\\beta}$. Then\n\\[\n\\sum_{i=1}^{a+u-1} x_i \\le 2^u x_a \\left(\\frac{1}{2} + \\frac{1}{4} + \\dots + \\frac{1}{2^{a+u-1}}\\right) < 2^u x_a \\le 1,\n\\]\nand similarly,\n\\[\n\\sum_{i=b-v+1}^{n} x_i \\le 2^v x_b \\left(\\frac{1}{2} + \\frac{1}{4} + \\dots + \\frac{1}{2^{n-b+v}}\\right) < 2^v x_b \\le 1.\n\\]\nIn other words, the sum of the $x_i$'s for $i$ outside of the interval $[a+u, b-v]$ is strictly less than 2. Since the total sum is at least 3, and each term is at most 1, it follows that this interval must have at least two integers, i.e., $a+u < b-v$. Thus, by bounding the sum of the $x_i$ for $i \\in [1, a+u] \\cup [b-v, n]$ like above, and trivially bounding each $x_i \\in (a+u, b-v)$ by 1, we obtain\n\\[\ns < 2^{u+1} x_a + 2^{v+1} x_b + ((b-v) - (a+u) - 1) = b-a + (2^{u+1-\\alpha} + 2^{v+1-\\beta} - (u+v+1)).\n\\]\nNow recall $\\alpha \\in (u, u+1]$ and $\\beta \\in (v, v+1]$, so applying Bernoulli's inequality yields\n\\[\n2^{u+1-\\alpha} + 2^{v+1-\\beta} - u - v - 1 \\le (1 + (u+1-\\alpha)) + (1 + (v+1-\\beta)) - u - v - 1 = 3 - \\alpha - \\beta.\n\\]\nIt follows that $s - 3 < b-a - \\alpha - \\beta$, and so\n\\[\n2^{s-3} < 2^{b-a - \\alpha - \\beta} = 2^{b-a} x_a x_b.\n\\]"
        },
        {
            "question": "Q26. Find all positive integers $n \ge 2$ for which there exist n real numbers $a_1 < \\dots < a_n$ and a real number $r > 0$ such that that the $\\frac{1}{2}n(n-1)$ differences $a_j - a_i$ for $1 \\le i < j \\le n$ are equal, in some order, to the numbers $r^1, r^2, \\dots, r^{\\frac{1}{2}n(n-1)}$.",
            "answer": "$n \\in \\{2, 3, 4\\}$.",
            "solution": "\\textbf{Solution.} We first show a solution for each $n \\in \\{2, 3, 4\\}$. We will later show the impossibility of finding such a solution for $n \\ge 5$.\nFor $n = 2$, take for example $\\{a_1, a_2\\} = (1, 3)$ and $r = 2$.\nFor $n = 3$, take the root $r > 1$ of $x^2 - x - 1 = 0$ (the golden ratio) and set $\\{a_1, a_2, a_3\\} = (0, r, r + r^2)$. Then\n\\[\n(a_2 - a_1, a_3 - a_2, a_3 - a_1) = (r, r^2, r + r^2 = r^3).\n\\]\nFor $n = 4$, take the root $r \\in (1, 2)$ of $x^3 - x - 1 = 0$ (such a root exists because $1^3 - 1 - 1 < 0$ and $2^3 - 2 - 1 > 0$) and set $(a_1, a_2, a_3, a_4) = (0, r, r + r^2, r + r^2 + r^3)$. Then\n\\[\n(a_2 - a_1, a_3 - a_2, a_3 - a_1, a_4 - a_1, a_4 - a_2, a_4 - a_1) = (r, r^2, r^3, r^4, r^5, r^6).\n\\]\nFor $n \\ge 5$, we will proceed by contradiction. Suppose there exist numbers $a_1 < \\dots < a_n$ and $r > 1$ satisfying the conditions of the problem. We start with a lemma:\n\n\\textbf{Lemma.} We have $r^{n - 1} > 2$.\n\n\\textbf{Proof.} There are only $n - 1$ differences $a_j - a_i$, with $j = i + 1$, so there exists an exponent $e \\le n$ and a difference $a_j - a_i$ with $j \\ge i + 2$ such that $a_j - a_i = r^e$. This implies\n\\[\nr^n > r^e = a_j - a_i = (a_j - a_{j-1}) + (a_{j-1} - a_i) > r + r = 2r,\n\\]\nthus $r^{n - 1} > 2$ as desired.\n\nTo illustrate the general approach, we first briefly sketch the idea behind the argument in the special case $n = 5$. In this case, we clearly have $a_5 - a_1 = r^{10}$. Note that there are 3 ways to rewrite $a_5 - a_1$ as a sum of two differences, namely\n\\[\n(a_5 - a_4) + (a_4 - a_1), (a_5 - a_3) + (a_3 - a_1), (a_5 - a_2) + (a_2 - a_1).\n\\]\nUsing the lemma above and convexity of the function $f(n) = r^n$, we argue that those three ways must be $r^{10} = r^9 + r^1 = r^8 + r^4 = r^7 + r^6$. That is, the \\text{large} exponents keep dropping by 1, while the \\text{small} exponents keep increasing by $n - 2, n - 3, ..., 2$. Comparing any two such equations, we then get a contradiction unless $n < 4$.\nNow we go back to the full proof for any $n \\ge 5$. Denote $b = \\frac{1}{2}n(n - 1)$. Clearly, we have $a_n - a_1 = r^b$. Consider the $n - 2$ equations of the form:\n\\[\na_n - a_1 = (a_n - a_i) + (a_i - a_1) \\text{ for } i \\in \\{2, ..., n-1\\}.\n\\]\n\nIn each equation, one of the two terms on the right-hand side must be at least $\\frac{1}{2} (a_n - a_1)$.\nBut from the lemma we have $r^{b - (n-1)} = r^b / r^{n-1} < \\frac{1}{2} (a_n - a_1)$, so there are at most $n-2$ sufficiently large elements in $\\{r^k | 1 < k < b\\}$, namely $r^{b-1}, ..., r^{b - (n-2)}$ (note that $r^b$ is already used for $a_n - a_1$). Thus, the \\text{large} terms must be, in some order, precisely equal to elements in\n\\[\nL = \\{r^{b-1}, ..., r^{b - (n-2)}\\}.\n\\]\n\nNext we claim that the \\text{small} terms in the $n - 2$ equations must be equal to the elements in\n\\[\nS = \\{r^{b - (n-2) - \\frac{1}{2}i(i+1)} | 1 \\le i < n - 2\\},\n\\]\nin the corresponding order (the largest \\text{large} term with the smallest \\text{small} term, etc.). Indeed, suppose that\n\\[\nr^{b} = a_n - a_1 = r^{b-i} + r^{\\alpha_i} \\text{ for } i \\in \\{1, ..., n-2\\},\n\\]\nwhere $1 < \\alpha_1 < \\dots < \\alpha_{n-2} \\le b - (n-1)$. Since $r > 1$ and $f(r) = r^b$ is convex, we have\n\\[\nr^{b-1} - r > r^{b-2} - r^3 > \\dots > r^{b-(n-3)} - r^{n-2},\n\\]\nimplying that\n\\[\nr^{\\alpha_2} - r^{\\alpha_1} > r^{\\alpha_3} - r^{\\alpha_2} > \\dots > r^{\\alpha_{n-2}} - r^{\\alpha_{n-3}}.\n\\]\nConvexity of $f(r) = r^n$ further implies\n\\[\n\\alpha_2 - \\alpha_1 > \\alpha_3 - \\alpha_2 > \\dots > \\alpha_{n-2} - \\alpha_{n-3}.\n\\]\nNote that $a_{n-2} - a_{n-3} \\ge 2$: Otherwise we would have $a_{n-2} - a_{n-3} = 1$ and thus\n\\[\nr^{\\alpha_{n-3}} \\cdot (r-1) = r^{a_{n-2}} - r^{\\alpha_{n-3}} = r^{b-(n-3)} - r^{b-(n-2)},\n\\]\nimplying that $a_{n-3} = b - (n-2)$, a contradiction. Therefore, we have\n\\begin{align*}\n    a_{n-2} - a_1 &= (a_{n-2} - a_{n-3}) + \\dots + (a_2 - a_1) \\\\\n    &\\ge 2 + 3 + \\dots + (n-2) \\\\\n    &= \\frac{1}{2}(n-2)(n-1) - 1 = \\frac{1}{2}n(n-3).\n\\end{align*}\nOn the other hand, from $a_{n-2} < b - (n-1)$ and $a_1 > 1$ we get\n\\[\n\\alpha_{n-2} - \\alpha_1 \\le b - n = \\frac{1}{2}n (n-1) - n = \\frac{1}{2}n(n-3),\n\\]\nimplying that equalities must occur everywhere and the claim about the small terms follows.\nNow, assuming $n - 2 > 2$, we have the two different equations:\n\\[\nr^{b} = r^{b - (n-2)} + r^{b-(n-2)-1} \\text{ and } r^{b} = r^{b - (n-3)} + r^{b-(n-2)-2},\n\\]\nwhich can be rewritten as\n\\[\nr^{n-1} = r + 1 \\text{ and } r^{n+1} = r^4 + 1.\n\\]\nSimple algebra now gives\n\\[\nr^4 + 1 = r^{n+1} = r^{n-1} \\cdot r^2 = r^3 + r^2 \\implies (r-1)(r^3 - r - 1) = 0.\n\\]\nSince $r \\neq 1$, using Equation (1) we conclude $r^3 = r + 1 = r^{n-1}$, thus $n = 4$, which gives a contradiction."
        },
        {
            "question": "Q27. Let $\\mathbb{R}$ be the set of real numbers. We denote by $\\mathcal{F}$ the set of all functions $f: \\mathbb{R} \\to \\mathbb{R}$ such that\n\\[\nf(x + f(y)) = f(x) + f(y)\n\\]\nfor every $x, y \\in \\mathbb{R}$. Find all rational numbers $q$ such that for every function $f \\in \\mathcal{F}$, there exists some $z \\in \\mathbb{R}$ satisfying $f(z) = qz$.",
            "answer": "The desired set of rational numbers is $\\left\\{ \\frac{n+1}{n}: n \\in \\mathbb{Z}, n \\neq 0 \\right\\}$.",
            "solution": "\\textbf{Solution.} Let $\\mathbb{Z}$ be the set of all rational numbers $q$ such that for every function $f \\in \\mathcal{F}$, there exists some $z \\in \\mathbb{R}$ satisfying $f(z) = qz$. Let further\n\\[\nS = \\left\\{ \\frac{n+1}{n}: n \\in \\mathbb{Z}, n \\neq 0 \\right\\}.\n\\]\nWe prove that $Z = S$ by showing the two inclusions: $S \\subseteq Z$ and $Z \\subseteq S$.\nWe first prove that $S \\subseteq Z$. Let $f \\in \\mathcal{F}$ and let $P(x, y)$ be the relation $f(x + f(y)) = f(x) + f(y)$. First note that $P(0, 0)$ gives $f(f(0)) = 2f(0)$. Then, $P(0, f(0))$ gives $f(2f(0)) = 3f(0)$.\n\nWe claim that\n\\[\nf(kf(0)) = (k+1)f(0)\n\\]\nfor every integer $k \\ge 1$. The claim can be proved by induction. The cases $k = 1$ and $k = 2$ have already been established. Assume that $f(kf(0)) = (k+1)f(0)$ and consider $P(0, kf(0))$ which gives\n\\[\nf((k+1)f(0)) = f(0) + f(kf(0)) = (k+2)f(0).\n\\]\nThis proves the claim. We conclude that $\\frac{k+1}{k} \\in Z$ for every integer $k \\ge 1$. Note that $P(-f(0), 0)$ gives $f(-f(0)) = 0$. We now claim that\n\\[\nf(-kf(0)) = (-k+1)f(0)\n\\]\nfor every integer $k \\ge 1$. The proof by induction is similar to the one above. We conclude that $\\frac{-k+1}{-k} \\in Z$ for every integer $k \\ge 1$. This shows that $S \\subseteq Z$.\n\nWe now prove that $Z \\subseteq S$. Let $p$ be a rational number outside the set $S$. We want to prove that $p$ does not belong to $Z$. To that end, we construct a function $f \\in \\mathcal{F}$ such that $f(z) \\neq pz$ for every $z \\in \\mathbb{R}$. The strategy is to first construct a function\n\\[\ng: [0, 1) \\to \\mathbb{Z}\n\\]\nand then define $f$ as $f(x) = g(\\{x\\}) + [x]$. This function $f$ belongs to $\\mathcal{F}$. Indeed,\n\\begin{align*}\nf(x + f(y)) &= g(\\{x + f(y)\\}) + [x + f(y)] \\\\\n&= g(\\{x + g(\\{y\\}) + [y] \\}) + [x + g(\\{y\\}) + [y]] \\\\\n&= g(\\{x\\}) + [x] + g(\\{y\\}) + [y] \\\\\n&= f(x) + f(y).\n\\end{align*}\nwhere we used that $g$ only takes integer values.\n\nLemma 1. For every $\\alpha \\in [0, 1)$, there exists $m \\in \\mathbb{Z}$ such that\n\\[\nm + n \\neq p(\\alpha + n)\n\\]\nfor every $n \\in \\mathbb{Z}$."
        },
        {
            "question": "Q28. For a positive integer $n$ we denote by $s(n)$ the sum of the digits of $n$. Let $P(x) = x^n + a_{n-1}x^{n-1} + \\dots + a_1x + a_0$ be a polynomial, where $n \ge 2$ and $a_i$ is a positive integer for all $0 \\le i \\le n-1$. Could it be the case that, for all positive integers $k$, $s(k)$ and $s(P(k))$ have the same parity?",
            "answer": "No. For any such polynomial there exists a positive integer $k$ such that $s(k)$ and $s(P(k))$ have different parities.",
            "solution": "\\textbf{Solution.} With the notation above, we begin by choosing a positive integer $t$ such that\n\\[\n10^t > \\max \\left\\{ \\frac{100^{n-1} a_{n-1}}{(10^{n-1} - 9^{\\frac{a_{n-1}}{9^{n-1} - 1}})}, \\frac{a_{n-1}}{9} 10^{n-1}, \\frac{a_{n-1}}{9}, \\dots, \\frac{a_{n-1}}{9} (10 a_0)^{n-1} \\right\\}\n\\]\nAs a direct consequence of $10^t$ being bigger than the first quantity listed in the above set, we get that the interval\n\\[\nI = \\left[ \\left( \\frac{9}{a_{n-1}} 10^t \\right)^{\\frac{1}{n-1}}, \\left( \\frac{1}{a_{n-1}} 10^{t+1} \\right)^{\\frac{1}{n-1}} \\right]\n\\]\ncontains at least 100 consecutive positive integers.\n\nLet $X$ be a positive integer in $I$ such that $X$ is congruent to 1 mod 100. Since $X \\in I$ we have\n\\[\n9 \\cdot 10^t \\le a_{n-1}X^{n-1} < 10^{t+1},\n\\]\nthus the first digit (from the left) of $a_{n-1} X^{n-1}$ must be 9.\n\nNext, we observe that $a_{n-1} (10 a_i)^{n-1} < 9 \\cdot 10^t \\le a_{n-1} X^{n-1}$, thus $10 a_i < X$ for all $i$, which immediately implies that $a_0 < a_1 X < \\dots < a_{n} X^{n}$, and the number of digits of this strictly increasing sequence forms a strictly increasing sequence too. In other words, if $i < j$, the number of digits of $a_i X^{i}$ is less than the number of digits of $a_j X^{j}$.\n\nLet $\\alpha$ be the number of digits of $a_{n-1} X^{n-1}$, thus $10^{\\alpha-1} \\le a_{n-1} X^{n-1} < 10^{\\alpha}$. We are now going to look at $P(10^{\\alpha} X)$ and $P(10^{\\alpha-1} X)$ and prove that the sum of their digits has different parities. This will finish the proof since $s(10^{\\alpha} X) = s(X)$.\n\nWe have $P(10^{\\alpha} X) = 10^{\\alpha n} X^n + a_{n-1}10^{\\alpha (n-1)} X^{n-1} + \\dots + a_0$, and since $10^{\\alpha(i+1)} > 10^{\\alpha i} a_{n-1} X^{n-1} > 10^{\\alpha i} + 1 a_i X^{i}$, thus all terms\n\\[\n\\frac{}{}\n\\ge 10^(\\alpha-1)a_{i-1}X^{i-1}\n\\]\ncome in 'blocks', exactly as in the previous case.\n\nFinally, $10^{(\\alpha-1)n+1} > 10^{(\\alpha-1)n}a_{n-1}X^{n-1} \\ge 10^{\\alpha-1(n-1)} \\ge 10^{(\\alpha-1)n}a_{n-1}X^{n-1}$, thus $10^{(\\alpha-1)n}$ has exactly $(\\alpha - 1)n+1$ digits, and its first digit is 9, as established above. On the other hand, $10^{(\\alpha - 1)n}X^{n}$ has exactly $(\\alpha - 1)n$ zeros, followed by 01 (as X is 1 mod 100). Therefore, when we add the terms, the 9 and 1 turn into 0, the 0 turns into 1, and nothing else is affected. Putting everything together, we obtain\n\\[\n\\frac{}{}\\geq 10^{\\alpha}_{(\\alpha-1)+1} \\geq 10 ^{\\alpha -1-N}\n\\]\n\\[\ns(P(10^{\\alpha-1} X)) = s(X^n) + s(a_{n-1} X^{n-1}) + \\dots + s(a_0) - 9 = s(P(10^{\\alpha} X)) - 9\n\\]\nthus $s(P(10^{\\alpha} X))$ and $s(P(10^{\\alpha-1} X))$ have different parities, as claimed."
        },
        {
            "question": "Q29. For a positive integer $n$, an n-sequence is a sequence $(a_0, \\dots, a_n)$ of non-negative integers satisfying the following condition: if $i$ and $j$ are non-negative integers with $i + j \\le n$, then $a_i + a_j \\le n$ and $a_{a_i+a_j} = a_{i+j}$.\nLet $f(n)$ be the number of n-sequences. Prove that there exist positive real numbers $c_1, c_2$ and $\\lambda$ such that\n\\[\nc_1 \\lambda^n < f(n) < c_2 \\lambda^n\n\\]\nfor all positive integers $n$.",
            "answer": "Such constants exist with $\\lambda = 3^{\\frac{1}{6}}$; we will discuss appropriate values of $c_1$ and $c_2$ in the solution below.",
            "solution": "\\textbf{Solution.} In order to solve this, we will give a complete classification of n-sequences.\nLet $k = \\lfloor n/2 \\rfloor$. We will say that an n-sequence is large if $a_i > k$ for some $i$, and small if no such i exists. For now we will assume that $(a_i)$ is not the identity sequence (in other words, that $a_i \\neq i$ for some $i$).\n\n\\textbf{Lemma 1.} If $a_r = a_s$ and $r, s < n$, then $a_{r+1} = a_{s+1}$.\n\\textbf{Proof.} We have $a_{r+1} = a_{r+a_1} = a_{a_r+a_1} = a_{a_s+a_1} = a_{s+1}$.\n\n\\textbf{Lemma 2.} If $i \\le k$, then $a_i \\le k$.\n\\textbf{Proof.} We have $i + i \\le n$, so $a_i + a_i \\le n$, so $a_i + a_i \\le n$ whence $a_i \\le k$.\n\n\\textbf{Lemma 3.} There exist $r, s$ such that $a_r = a_s$ and $r \\neq s$.\n\\textbf{Proof.} If $a_0 \\neq 0$ then $a_{2a_0} = a_0$. Otherwise, $a_i = a_i$ for all i, so take $i$ such that $a_i \\neq i$ (which we can do by our earlier assumption).\n\n\\textbf{Lemma 4.} Let $r$ be the smallest index such that $a_s = a_r$ for some $s > r$, and let $d$ be the minimum positive integer such that $a_{r+d} = a_r$. Then\n\n1. The subsequence $(a_r, a_{r+1}, \\dots, a_n)$ is periodic with minimal period $d$. That is, for $u < v$, we have $a_u = a_v$ if and only if $u, v \\ge r$ and $d \\mid u-v$.\n\n2. $a_i = i$ for $i < r$ and $a_i \\ge r$ for $i \\ge r$.\n\nIn this case we say $(a_i)$ has period $d$ and offset $r$.\n\n\\textbf{Proof.} We prove each in turn:\n\n1. The \\text{if} implication is clear from Lemma 1. For the reverse direction, suppose $a_u = a_v$. Then there are integers $r \\le u_0, v_0 < r + d$ such that $d \\mid u - u_0, v - v_0$, so $a_{u_0} = a_u = a_v = a_{v_0}$. If $u_0 < v_0$ then $a_{r+d + u_0 - v_0} = a_{r+d} = a_r$, contradicting the minimality of $d$. There is a similar contradiction when $u_0 > v_0$. Thus $u_0 = v_0$, so $d \\mid u - v$.\n\n2. If $r = 0$ there is nothing to prove. Otherwise $a_0 = a_{2a_0}$ so $2a_0 = 0$. Then we have $a_i = a_i$ for all i, so $a_i = i$ for i < r.\n\n\\textbf{Lemma 5.} Either\n\n1. $d \\mid a_i - i$ for all i, or\n\n2. $r = 0$ and $d \\mid a_i - i - d/2$ for all i."
        }
    ]
}